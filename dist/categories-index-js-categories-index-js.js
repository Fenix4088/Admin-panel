(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["categories-index-js"],{

/***/ "./src/pages/categories/index.js":
/*!***************************************!*\
  !*** ./src/pages/categories/index.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Page; });\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nclass Page {\n  constructor() {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"components\", {});\n\n    _defineProperty(this, \"subElements\", {});\n  }\n\n  async render() {\n    // ? Вопрос насчет записи\n    const [response] = await Promise.all([this.getCategoriesData()]);\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n    this.createCategorieWrap(response);\n    return this.element;\n  }\n\n  get template() {\n    return \"  \\n        <div class=\\\"categories\\\">\\n        <div class=\\\"content__top-panel\\\">\\n          <h1 class=\\\"page-title\\\">Categories</h1>\\n        </div>\\n        <div data-element=\\\"categoriesContainer\\\">\\n            <!-- Render categories menue here -->\\n        </div>\\n        </div>\\n      \";\n  }\n\n  async getCategoriesData() {\n    const url = this.getRequestLink('/api/rest/categories');\n    const request = await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(url);\n    return request;\n  }\n\n  getRequestLink(requestString) {\n    const newUrl = new URL(requestString, \"\".concat(\"https://course-js.javascript.ru/\"));\n    newUrl.searchParams.set('_sort', 'weight');\n    newUrl.searchParams.set('_refs', 'subcategory');\n    return newUrl.href;\n  }\n\n  createCategorieWrap(data = []) {\n    console.log(data);\n    const {\n      categoriesContainer\n    } = this.subElements;\n    categoriesContainer.innerHTML = \"<div class=\\\"category\\\" data-id=\\\"bytovaya-texnika\\\">\\n        <header class=\\\"category__header\\\">\\n            \\u0411\\u044B\\u0442\\u043E\\u0432\\u0430\\u044F \\u0442\\u0435\\u0445\\u043D\\u0438\\u043A\\u0430\\n        </header>\\n        </div>\";\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll(\"[data-element]\");\n    return [...elements].reduce((acc, item) => {\n      acc[item.dataset.element] = item;\n      return acc;\n    }, {});\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvY2F0ZWdvcmllcy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlcy9jYXRlZ29yaWVzL2luZGV4LmpzPzliMWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoSnNvbiBmcm9tIFwiLi4vLi4vdXRpbHMvZmV0Y2gtanNvbi5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSB7XHJcbiAgICBlbGVtZW50O1xyXG4gICAgY29tcG9uZW50cyA9IHt9O1xyXG4gICAgc3ViRWxlbWVudHMgPSB7fTtcclxuXHJcbiAgICBhc3luYyByZW5kZXIoKSB7XHJcbiAgICAgICAgLy8gPyDQktC+0L/RgNC+0YEg0L3QsNGB0YfQtdGCINC30LDQv9C40YHQuFxyXG4gICAgICAgIGNvbnN0IFtyZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5nZXRDYXRlZ29yaWVzRGF0YSgpXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGU7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcclxuXHJcbiAgICAgICAgdGhpcy5zdWJFbGVtZW50cyA9IHRoaXMuZ2V0U3ViRWxlbWVudHModGhpcy5lbGVtZW50KTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNhdGVnb3JpZVdyYXAocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGdldCB0ZW1wbGF0ZSgpIHtcclxuICAgICAgICByZXR1cm4gYCAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNhdGVnb3JpZXNcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudF9fdG9wLXBhbmVsXCI+XHJcbiAgICAgICAgICA8aDEgY2xhc3M9XCJwYWdlLXRpdGxlXCI+Q2F0ZWdvcmllczwvaDE+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBkYXRhLWVsZW1lbnQ9XCJjYXRlZ29yaWVzQ29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDwhLS0gUmVuZGVyIGNhdGVnb3JpZXMgbWVudWUgaGVyZSAtLT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRDYXRlZ29yaWVzRGF0YSgpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLmdldFJlcXVlc3RMaW5rKCcvYXBpL3Jlc3QvY2F0ZWdvcmllcycpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBmZXRjaEpzb24odXJsKTtcclxuICAgICAgICByZXR1cm4gcmVxdWVzdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXF1ZXN0TGluayhyZXF1ZXN0U3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgbmV3VXJsID0gbmV3IFVSTChyZXF1ZXN0U3RyaW5nLCBgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH1gKTtcclxuICAgICAgICBuZXdVcmwuc2VhcmNoUGFyYW1zLnNldCgnX3NvcnQnLCAnd2VpZ2h0Jyk7XHJcbiAgICAgICAgbmV3VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ19yZWZzJywgJ3N1YmNhdGVnb3J5Jyk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXdVcmwuaHJlZjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDYXRlZ29yaWVXcmFwKGRhdGEgPSBbXSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IHtjYXRlZ29yaWVzQ29udGFpbmVyfSA9IHRoaXMuc3ViRWxlbWVudHM7XHJcblxyXG4gICAgICAgIGNhdGVnb3JpZXNDb250YWluZXIuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJjYXRlZ29yeVwiIGRhdGEtaWQ9XCJieXRvdmF5YS10ZXhuaWthXCI+XHJcbiAgICAgICAgPGhlYWRlciBjbGFzcz1cImNhdGVnb3J5X19oZWFkZXJcIj5cclxuICAgICAgICAgICAg0JHRi9GC0L7QstCw0Y8g0YLQtdGF0L3QuNC60LBcclxuICAgICAgICA8L2hlYWRlcj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN1YkVsZW1lbnRzKGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWVsZW1lbnRdXCIpO1xyXG4gICAgICAgIHJldHVybiBbLi4uZWxlbWVudHNdLnJlZHVjZSgoYWNjLCBpdGVtKSA9PiB7XHJcbiAgICAgICAgICBhY2NbaXRlbS5kYXRhc2V0LmVsZW1lbnRdID0gaXRlbTtcclxuICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgfSwge30pO1xyXG4gICAgICB9XHJcblxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/categories/index.js\n");

/***/ }),

/***/ "./src/utils/fetch-json.js":
/*!*********************************!*\
  !*** ./src/utils/fetch-json.js ***!
  \*********************************/
/*! exports provided: default, FetchError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FetchError\", function() { return FetchError; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// same as fetch, but throws FetchError in case of errors\n// status >= 400 is an error\n// network error / json error are errors\n/* harmony default export */ __webpack_exports__[\"default\"] = (async function (url, params) {\n  let response;\n\n  try {\n    // NOTE: \"toString\" call needed for correct work of \"jest-fetch-mock\"\n    response = await fetch(url.toString(), params);\n  } catch (err) {\n    throw new FetchError(response, \"Network error has occurred.\");\n  }\n\n  let body;\n\n  if (!response.ok) {\n    let errorText = response.statusText; // Not Found (for 404)\n\n    try {\n      body = await response.json();\n      errorText = body.error && body.error.message || body.data && body.data.error && body.data.error.message || errorText;\n    } catch (error) {\n      /* ignore failed body */\n    }\n\n    let message = \"Error \".concat(response.status, \": \").concat(errorText);\n    throw new FetchError(response, body, message);\n  }\n\n  try {\n    return await response.json();\n  } catch (err) {\n    throw new FetchError(response, null, err.message);\n  }\n});\nclass FetchError extends Error {\n  constructor(response, body, message) {\n    super(message);\n\n    _defineProperty(this, \"name\", \"FetchError\");\n\n    this.response = response;\n    this.body = body;\n  }\n\n} // handle uncaught failed fetch through\n\nwindow.addEventListener('unhandledrejection', event => {\n  if (event.reason instanceof FetchError) {\n    alert(event.reason.message);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZmV0Y2gtanNvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9mZXRjaC1qc29uLmpzPzNiNTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2FtZSBhcyBmZXRjaCwgYnV0IHRocm93cyBGZXRjaEVycm9yIGluIGNhc2Ugb2YgZXJyb3JzXHJcbi8vIHN0YXR1cyA+PSA0MDAgaXMgYW4gZXJyb3JcclxuLy8gbmV0d29yayBlcnJvciAvIGpzb24gZXJyb3IgYXJlIGVycm9yc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24odXJsLCBwYXJhbXMpIHtcclxuICBsZXQgcmVzcG9uc2U7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBOT1RFOiBcInRvU3RyaW5nXCIgY2FsbCBuZWVkZWQgZm9yIGNvcnJlY3Qgd29yayBvZiBcImplc3QtZmV0Y2gtbW9ja1wiXHJcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCBwYXJhbXMpO1xyXG4gIH0gY2F0Y2goZXJyKSB7XHJcbiAgICB0aHJvdyBuZXcgRmV0Y2hFcnJvcihyZXNwb25zZSwgXCJOZXR3b3JrIGVycm9yIGhhcyBvY2N1cnJlZC5cIik7XHJcbiAgfVxyXG5cclxuICBsZXQgYm9keTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgbGV0IGVycm9yVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7IC8vIE5vdCBGb3VuZCAoZm9yIDQwNClcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXJyb3JUZXh0ID0gKGJvZHkuZXJyb3IgJiYgYm9keS5lcnJvci5tZXNzYWdlKSB8fCAoYm9keS5kYXRhICYmIGJvZHkuZGF0YS5lcnJvciAmJiBib2R5LmRhdGEuZXJyb3IubWVzc2FnZSkgfHwgZXJyb3JUZXh0O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlIGZhaWxlZCBib2R5ICovIH1cclxuXHJcbiAgICBsZXQgbWVzc2FnZSA9IGBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWA7XHJcblxyXG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfSBjYXRjaChlcnIpIHtcclxuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBudWxsLCBlcnIubWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmV0Y2hFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBuYW1lID0gXCJGZXRjaEVycm9yXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBib2R5LCBtZXNzYWdlKSB7XHJcbiAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBoYW5kbGUgdW5jYXVnaHQgZmFpbGVkIGZldGNoIHRocm91Z2hcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIGV2ZW50ID0+IHtcclxuICBpZiAoZXZlbnQucmVhc29uIGluc3RhbmNlb2YgRmV0Y2hFcnJvcikge1xyXG4gICAgYWxlcnQoZXZlbnQucmVhc29uLm1lc3NhZ2UpO1xyXG4gIH1cclxufSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/fetch-json.js\n");

/***/ })

}]);