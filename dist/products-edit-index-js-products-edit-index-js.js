(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["products-edit-index-js"],{

/***/ "./src/components/product-form/index.js":
/*!**********************************************!*\
  !*** ./src/components/product-form/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductForm; });\n/* harmony import */ var _sortable_list_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sortable-list/index.js */ \"./src/components/sortable-list/index.js\");\n/* harmony import */ var _utils_escape_html_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/escape-html.js */ \"./src/utils/escape-html.js\");\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst BACKEND_URL = 'https://course-js.javascript.ru';\nclass ProductForm {\n  constructor(productId) {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"subElements\", {});\n\n    _defineProperty(this, \"formData\", {});\n\n    _defineProperty(this, \"categories\", []);\n\n    _defineProperty(this, \"defaultFormData\", {\n      title: \"\",\n      description: \"\",\n      quantity: 1,\n      subcategory: \"\",\n      images: [],\n      status: 1,\n      price: 100,\n      discount: 0\n    });\n\n    _defineProperty(this, \"uploadImage\", () => {\n      const fileInput = document.createElement(\"input\");\n      fileInput.type = \"file\";\n      fileInput.accept = \"image/*\";\n      fileInput.addEventListener(\"change\", async () => {\n        const [file] = fileInput.files;\n\n        if (file) {\n          const formData = new FormData();\n          const {\n            uploadImage,\n            imageListContainer\n          } = this.subElements;\n          formData.append(\"image\", file);\n          uploadImage.classList.add(\"is-loading\");\n          uploadImage.disabled = true;\n          const result = await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"https://api.imgur.com/3/image\", {\n            method: \"POST\",\n            headers: {\n              Authorization: \"Client-ID \".concat(IMGUR_CLIENT_ID)\n            },\n            body: formData\n          });\n          imageListContainer.append(this.getImageItem(result.data.link, file.name));\n          uploadImage.classList.remove(\"is-loading\");\n          uploadImage.disabled = false; // Remove input from body\n\n          fileInput.remove();\n        }\n      });\n      fileInput.hidden = true;\n      document.body.appendChild(fileInput);\n      fileInput.click();\n    });\n\n    _defineProperty(this, \"submitForm\", event => {\n      event.preventDefault();\n      this.save();\n    });\n\n    this.productId = productId;\n  }\n\n  initEventListeners() {\n    const {\n      uploadImage,\n      productForm,\n      imageListContainer\n    } = this.subElements;\n    productForm.addEventListener(\"submit\", this.submitForm);\n    uploadImage.addEventListener(\"pointerdown\", this.uploadImage);\n  }\n\n  dispatchEvent(id) {\n    const event = this.productId ? new CustomEvent('product-updated', {\n      detail: id\n    }) : new CustomEvent('product-saved');\n    this.element.dispatchEvent(event);\n  }\n\n  async save() {\n    const product = this.getFormData();\n\n    try {\n      const result = await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(BACKEND_URL, \"/api/rest/products\"), {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(product)\n      });\n      this.dispatchEvent(result.id);\n    } catch (error) {\n      console.error(\"something went wrong\", error);\n    }\n  }\n\n  getFormData() {\n    const {\n      productForm,\n      imageListContainer\n    } = this.subElements;\n    const excludedFields = [\"images\"];\n    const formatToNumber = [\"price\", \"quantity\", \"discount\", \"status\"];\n    const fields = Object.keys(this.defaultFormData).filter(item => !excludedFields.includes(item));\n    const values = {};\n\n    for (const field of fields) {\n      values[field] = formatToNumber.includes(field) ? parseInt(productForm.querySelector(\"#\".concat(field)).value) : productForm.querySelector(\"#\".concat(field)).value;\n    }\n\n    const imagesHTMLCollection = imageListContainer.querySelectorAll(\".sortable-table__cell-img\");\n    values.images = [];\n    values.id = this.productId;\n\n    for (const image of imagesHTMLCollection) {\n      values.images.push({\n        url: image.src,\n        source: image.alt\n      });\n    }\n\n    return values;\n  }\n\n  async render() {\n    const categoriesPromise = this.loadCategoriesList();\n    const productPromise = this.productId ? this.loadProductData(this.productId) : [this.defaultFormData];\n    const [categoriesData, productResponse] = await Promise.all([categoriesPromise, productPromise]);\n    const [productData] = productResponse;\n    this.formData = productData;\n    this.categories = categoriesData;\n    this.renderForm();\n    this.setFormData();\n    this.createImagesList();\n    this.initEventListeners();\n    return this.element;\n  }\n\n  renderForm() {\n    const element = document.createElement(\"div\");\n    element.innerHTML = this.formData ? this.template : this.getEmptyTemplate();\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(element);\n  }\n\n  get template() {\n    return \"\\n    <div class=\\\"product-form\\\">\\n      <form data-element=\\\"productForm\\\" class=\\\"form-grid\\\">\\n        <div class=\\\"form-group form-group__half_left\\\">\\n          <fieldset>\\n            <label class=\\\"form-label\\\">\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430</label>\\n            <input required\\n              id=\\\"title\\\"\\n              value=\\\"\\\"\\n              type=\\\"text\\\"\\n              name=\\\"title\\\"\\n              class=\\\"form-control\\\"\\n              placeholder=\\\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\\">\\n          </fieldset>\\n        </div>\\n        <div class=\\\"form-group form-group__wide\\\">\\n          <label class=\\\"form-label\\\">\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435</label>\\n          <textarea required\\n            id=\\\"description\\\"\\n            class=\\\"form-control\\\"\\n            name=\\\"description\\\"\\n            data-element=\\\"productDescription\\\"\\n            placeholder=\\\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0430\\\"></textarea>\\n        </div>\\n        <div class=\\\"form-group form-group__wide\\\" data-element=\\\"sortable-list-container\\\">\\n          <label class=\\\"form-label\\\">\\u0424\\u043E\\u0442\\u043E</label>\\n          <div class=\\\"sortable-list\\\" data-element=\\\"imageListContainer\\\">\\n          </div>\\n          <button data-element=\\\"uploadImage\\\" type=\\\"button\\\" class=\\\"button-primary-outline\\\">\\n            <span>\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C</span>\\n          </button>\\n        </div>\\n        <div class=\\\"form-group form-group__half_left\\\">\\n          <label class=\\\"form-label\\\">\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F</label>\\n          <select id=\\\"subcategory\\\" class=\\\"form-control\\\" name=\\\"subcategory\\\">\\n            \".concat(this.createCategoriesSelect(), \"\\n          </select>\\n        </div>\\n        <div class=\\\"form-group form-group__half_left form-group__two-col\\\">\\n          <fieldset>\\n            <label class=\\\"form-label\\\">\\u0426\\u0435\\u043D\\u0430 ($)</label>\\n            <input required\\n              id=\\\"price\\\"\\n              value=\\\"\\\"\\n              type=\\\"number\\\"\\n              name=\\\"price\\\"\\n              class=\\\"form-control\\\"\\n              placeholder=\\\"\").concat(this.defaultFormData.price, \"\\\">\\n          </fieldset>\\n          <fieldset>\\n            <label class=\\\"form-label\\\">\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430 ($)</label>\\n            <input required\\n              id=\\\"discount\\\"\\n              value=\\\"\\\"\\n              type=\\\"number\\\"\\n              name=\\\"discount\\\"\\n              class=\\\"form-control\\\"\\n              placeholder=\\\"\").concat(this.defaultFormData.discount, \"\\\">\\n          </fieldset>\\n        </div>\\n        <div class=\\\"form-group form-group__part-half\\\">\\n          <label class=\\\"form-label\\\">\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E</label>\\n          <input required\\n            id=\\\"quantity\\\"\\n            value=\\\"\\\"\\n            type=\\\"number\\\"\\n            class=\\\"form-control\\\"\\n            name=\\\"quantity\\\"\\n            placeholder=\\\"\").concat(this.defaultFormData.quantity, \"\\\">\\n        </div>\\n        <div class=\\\"form-group form-group__part-half\\\">\\n          <label class=\\\"form-label\\\">\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441</label>\\n          <select id=\\\"status\\\" class=\\\"form-control\\\" name=\\\"status\\\">\\n            <option value=\\\"1\\\">\\u0410\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D</option>\\n            <option value=\\\"0\\\">\\u041D\\u0435\\u0430\\u043A\\u0442\\u0438\\u0432\\u0435\\u043D</option>\\n          </select>\\n        </div>\\n        <div class=\\\"form-buttons\\\">\\n          <button type=\\\"submit\\\" name=\\\"save\\\" class=\\\"button-primary-outline\\\">\\n            \").concat(this.productId ? \"Сохранить\" : \"Добавить\", \" \\u0442\\u043E\\u0432\\u0430\\u0440\\n          </button>\\n        </div>\\n      </form>\\n    </div>\\n    \");\n  }\n\n  getEmptyTemplate() {\n    return \"\\n    <div>\\n      <h1 class=\\\"page-title\\\">\\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430</h1>\\n      <p>\\u0418\\u0437\\u0432\\u0438\\u043D\\u0438\\u0442\\u0435, \\u0434\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0442\\u043E\\u0432\\u0430\\u0440 \\u043D\\u0435 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442</p>\\n    </div>\";\n  }\n\n  createCategoriesSelect() {\n    return this.categories.map(category => {\n      return category.subcategories.map(subcategory => {\n        return \"<option value=\\\"\".concat(subcategory.id, \"\\\">\").concat(category.title, \" &gt; \").concat(subcategory.title, \"</option>\");\n      }).join(\"\");\n    });\n  }\n\n  createImagesList() {\n    const {\n      imageListContainer\n    } = this.subElements;\n    const {\n      images\n    } = this.formData;\n    const items = images.map(image => this.getImageItem(image.url, image.source));\n    const sortableList = new _sortable_list_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      items\n    });\n    imageListContainer.append(sortableList.element);\n  }\n\n  getImageItem(url, name) {\n    const wrapper = document.createElement(\"div\");\n    wrapper.innerHTML = \"          \\n        <li class=\\\"products-edit__imagelist-item sortable-list__item\\\" style=\\\"\\\">\\n          <span>\\n            <img src=\\\"../icons/icon-grab.svg\\\" data-grab-handle=\\\"\\\" alt=\\\"grab\\\">\\n            <img class=\\\"sortable-table__cell-img\\\" alt=\\\"\".concat(Object(_utils_escape_html_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(name), \"\\\" src=\\\"\").concat(Object(_utils_escape_html_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(url), \"\\\">\\n            <span>\").concat(Object(_utils_escape_html_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(name), \"</span>\\n          </span>\\n          <button type=\\\"button\\\">\\n            <img src=\\\"../icons/icon-trash.svg\\\" data-delete-handle=\\\"\\\" alt=\\\"delete\\\">\\n          </button>\\n        </li>\");\n    return wrapper.firstElementChild;\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll(\"[data-element]\");\n    return [...elements].reduce((acc, item) => {\n      acc[item.dataset.element] = item;\n      return acc;\n    }, {});\n  }\n\n  async loadCategoriesList() {\n    return await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(BACKEND_URL, \"/api/rest/categories?_sort=weight&_refs=subcategory\"));\n  }\n\n  async loadProductData(id) {\n    return await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"\".concat(BACKEND_URL, \"/api/rest/products?id=\").concat(id));\n  }\n\n  setFormData() {\n    const {\n      productForm\n    } = this.subElements;\n    const excludedData = [\"images\"];\n    const fields = Object.keys(this.defaultFormData).filter(item => !excludedData.includes(item));\n    fields.forEach(field => {\n      productForm.querySelector(\"#\".concat(field)).value = this.formData[field] || this.defaultFormData[field];\n    });\n  }\n\n  destroy() {\n    this.remove();\n    this.element = null;\n    this.subElements = null;\n  }\n\n  remove() {\n    this.element.remove();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wcm9kdWN0LWZvcm0vaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wcm9kdWN0LWZvcm0vaW5kZXguanM/NWJkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGVMaXN0IGZyb20gJy4uL3NvcnRhYmxlLWxpc3QvaW5kZXguanMnO1xyXG5pbXBvcnQgZXNjYXBlSHRtbCBmcm9tICcuLi8uLi91dGlscy9lc2NhcGUtaHRtbC5qcyc7XHJcbmltcG9ydCBmZXRjaEpzb24gZnJvbSAnLi4vLi4vdXRpbHMvZmV0Y2gtanNvbi5qcyc7XHJcbmNvbnN0IEJBQ0tFTkRfVVJMID0gJ2h0dHBzOi8vY291cnNlLWpzLmphdmFzY3JpcHQucnUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZHVjdEZvcm0ge1xyXG4gIGVsZW1lbnQ7XHJcbiAgc3ViRWxlbWVudHMgPSB7fTtcclxuICBmb3JtRGF0YSA9IHt9O1xyXG4gIGNhdGVnb3JpZXMgPSBbXTtcclxuICBkZWZhdWx0Rm9ybURhdGEgPSB7XHJcbiAgICB0aXRsZTogXCJcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxyXG4gICAgcXVhbnRpdHk6IDEsXHJcbiAgICBzdWJjYXRlZ29yeTogXCJcIixcclxuICAgIGltYWdlczogW10sXHJcbiAgICBzdGF0dXM6IDEsXHJcbiAgICBwcmljZTogMTAwLFxyXG4gICAgZGlzY291bnQ6IDAsXHJcbiAgfTtcclxuXHJcbiAgY29uc3RydWN0b3IocHJvZHVjdElkKSB7XHJcbiAgICB0aGlzLnByb2R1Y3RJZCA9IHByb2R1Y3RJZDtcclxuICB9XHJcblxyXG4gIGluaXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGNvbnN0IHsgdXBsb2FkSW1hZ2UsIHByb2R1Y3RGb3JtLCBpbWFnZUxpc3RDb250YWluZXIgfSA9IHRoaXMuc3ViRWxlbWVudHM7XHJcblxyXG4gICAgcHJvZHVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLnN1Ym1pdEZvcm0pO1xyXG4gICAgdXBsb2FkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIHRoaXMudXBsb2FkSW1hZ2UpO1xyXG4gIH1cclxuXHJcbiAgZGlzcGF0Y2hFdmVudChpZCkge1xyXG4gICAgY29uc3QgZXZlbnQgPSB0aGlzLnByb2R1Y3RJZCA/IG5ldyBDdXN0b21FdmVudCgncHJvZHVjdC11cGRhdGVkJywge2RldGFpbDogaWR9KSA6IG5ldyBDdXN0b21FdmVudCgncHJvZHVjdC1zYXZlZCcpO1xyXG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgdXBsb2FkSW1hZ2UgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBmaWxlSW5wdXQudHlwZSA9IFwiZmlsZVwiO1xyXG4gICAgZmlsZUlucHV0LmFjY2VwdCA9IFwiaW1hZ2UvKlwiO1xyXG5cclxuICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgW2ZpbGVdID0gZmlsZUlucHV0LmZpbGVzO1xyXG5cclxuICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGNvbnN0IHsgdXBsb2FkSW1hZ2UsIGltYWdlTGlzdENvbnRhaW5lciB9ID0gdGhpcy5zdWJFbGVtZW50cztcclxuXHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiaW1hZ2VcIiwgZmlsZSk7XHJcbiAgICAgICAgdXBsb2FkSW1hZ2UuY2xhc3NMaXN0LmFkZChcImlzLWxvYWRpbmdcIik7XHJcbiAgICAgICAgdXBsb2FkSW1hZ2UuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaEpzb24oXCJodHRwczovL2FwaS5pbWd1ci5jb20vMy9pbWFnZVwiLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQ2xpZW50LUlEICR7SU1HVVJfQ0xJRU5UX0lEfWAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGltYWdlTGlzdENvbnRhaW5lci5hcHBlbmQoXHJcbiAgICAgICAgICB0aGlzLmdldEltYWdlSXRlbShyZXN1bHQuZGF0YS5saW5rLCBmaWxlLm5hbWUpXHJcbiAgICAgICAgKTtcclxuICAgICAgICB1cGxvYWRJbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtbG9hZGluZ1wiKTtcclxuICAgICAgICB1cGxvYWRJbWFnZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgaW5wdXQgZnJvbSBib2R5XHJcbiAgICAgICAgZmlsZUlucHV0LnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmaWxlSW5wdXQuaGlkZGVuID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZmlsZUlucHV0KTtcclxuICAgIGZpbGVJbnB1dC5jbGljaygpO1xyXG4gIH07XHJcblxyXG4gIHN1Ym1pdEZvcm0gPSAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLnNhdmUoKTtcclxuICB9O1xyXG5cclxuICBhc3luYyBzYXZlKCkge1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IHRoaXMuZ2V0Rm9ybURhdGEoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaEpzb24oYCR7QkFDS0VORF9VUkx9L2FwaS9yZXN0L3Byb2R1Y3RzYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocHJvZHVjdCksXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHJlc3VsdC5pZCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwic29tZXRoaW5nIHdlbnQgd3JvbmdcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0Rm9ybURhdGEoKSB7XHJcbiAgICBjb25zdCB7IHByb2R1Y3RGb3JtLCBpbWFnZUxpc3RDb250YWluZXIgfSA9IHRoaXMuc3ViRWxlbWVudHM7XHJcbiAgICBjb25zdCBleGNsdWRlZEZpZWxkcyA9IFtcImltYWdlc1wiXTtcclxuICAgIGNvbnN0IGZvcm1hdFRvTnVtYmVyID0gW1wicHJpY2VcIiwgXCJxdWFudGl0eVwiLCBcImRpc2NvdW50XCIsIFwic3RhdHVzXCJdO1xyXG4gICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmtleXModGhpcy5kZWZhdWx0Rm9ybURhdGEpLmZpbHRlcigoaXRlbSkgPT4gIWV4Y2x1ZGVkRmllbGRzLmluY2x1ZGVzKGl0ZW0pKTtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG5cclxuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XHJcbiAgICAgIHZhbHVlc1tmaWVsZF0gPSBmb3JtYXRUb051bWJlci5pbmNsdWRlcyhmaWVsZClcclxuICAgICAgICA/IHBhcnNlSW50KHByb2R1Y3RGb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2ZpZWxkfWApLnZhbHVlKVxyXG4gICAgICAgIDogcHJvZHVjdEZvcm0ucXVlcnlTZWxlY3RvcihgIyR7ZmllbGR9YCkudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW1hZ2VzSFRNTENvbGxlY3Rpb24gPSBpbWFnZUxpc3RDb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5zb3J0YWJsZS10YWJsZV9fY2VsbC1pbWdcIik7XHJcblxyXG4gICAgdmFsdWVzLmltYWdlcyA9IFtdO1xyXG4gICAgdmFsdWVzLmlkID0gdGhpcy5wcm9kdWN0SWQ7XHJcblxyXG4gICAgZm9yIChjb25zdCBpbWFnZSBvZiBpbWFnZXNIVE1MQ29sbGVjdGlvbikge1xyXG4gICAgICB2YWx1ZXMuaW1hZ2VzLnB1c2goe1xyXG4gICAgICAgIHVybDogaW1hZ2Uuc3JjLFxyXG4gICAgICAgIHNvdXJjZTogaW1hZ2UuYWx0LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVuZGVyKCkge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllc1Byb21pc2UgPSB0aGlzLmxvYWRDYXRlZ29yaWVzTGlzdCgpO1xyXG4gICAgY29uc3QgcHJvZHVjdFByb21pc2UgPSB0aGlzLnByb2R1Y3RJZFxyXG4gICAgICA/IHRoaXMubG9hZFByb2R1Y3REYXRhKHRoaXMucHJvZHVjdElkKVxyXG4gICAgICA6IFt0aGlzLmRlZmF1bHRGb3JtRGF0YV07XHJcbiAgICBjb25zdCBbY2F0ZWdvcmllc0RhdGEsIHByb2R1Y3RSZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbY2F0ZWdvcmllc1Byb21pc2UsIHByb2R1Y3RQcm9taXNlXSk7XHJcblxyXG4gICAgY29uc3QgW3Byb2R1Y3REYXRhXSA9IHByb2R1Y3RSZXNwb25zZTtcclxuXHJcbiAgICB0aGlzLmZvcm1EYXRhID0gcHJvZHVjdERhdGE7XHJcbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzRGF0YTtcclxuXHJcbiAgICB0aGlzLnJlbmRlckZvcm0oKTtcclxuICAgIHRoaXMuc2V0Rm9ybURhdGEoKTtcclxuICAgIHRoaXMuY3JlYXRlSW1hZ2VzTGlzdCgpXHJcbiAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyRm9ybSgpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmZvcm1EYXRhID8gdGhpcy50ZW1wbGF0ZSA6IHRoaXMuZ2V0RW1wdHlUZW1wbGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzID0gdGhpcy5nZXRTdWJFbGVtZW50cyhlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGdldCB0ZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdC1mb3JtXCI+XHJcbiAgICAgIDxmb3JtIGRhdGEtZWxlbWVudD1cInByb2R1Y3RGb3JtXCIgY2xhc3M9XCJmb3JtLWdyaWRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBmb3JtLWdyb3VwX19oYWxmX2xlZnRcIj5cclxuICAgICAgICAgIDxmaWVsZHNldD5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiPtCd0LDQt9Cy0LDQvdC40LUg0YLQvtCy0LDRgNCwPC9sYWJlbD5cclxuICAgICAgICAgICAgPGlucHV0IHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgaWQ9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9XCJcIlxyXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxyXG4gICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCd0LDQt9Cy0LDQvdC40LUg0YLQvtCy0LDRgNCwXCI+XHJcbiAgICAgICAgICA8L2ZpZWxkc2V0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGZvcm0tZ3JvdXBfX3dpZGVcIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj7QntC/0LjRgdCw0L3QuNC1PC9sYWJlbD5cclxuICAgICAgICAgIDx0ZXh0YXJlYSByZXF1aXJlZFxyXG4gICAgICAgICAgICBpZD1cImRlc2NyaXB0aW9uXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIlxyXG4gICAgICAgICAgICBuYW1lPVwiZGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICBkYXRhLWVsZW1lbnQ9XCJwcm9kdWN0RGVzY3JpcHRpb25cIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCe0L/QuNGB0LDQvdC40LUg0YLQvtCy0LDRgNCwXCI+PC90ZXh0YXJlYT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBmb3JtLWdyb3VwX193aWRlXCIgZGF0YS1lbGVtZW50PVwic29ydGFibGUtbGlzdC1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj7QpNC+0YLQvjwvbGFiZWw+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydGFibGUtbGlzdFwiIGRhdGEtZWxlbWVudD1cImltYWdlTGlzdENvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8YnV0dG9uIGRhdGEtZWxlbWVudD1cInVwbG9hZEltYWdlXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uLXByaW1hcnktb3V0bGluZVwiPlxyXG4gICAgICAgICAgICA8c3Bhbj7Ql9Cw0LPRgNGD0LfQuNGC0Yw8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBmb3JtLWdyb3VwX19oYWxmX2xlZnRcIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj7QmtCw0YLQtdCz0L7RgNC40Y88L2xhYmVsPlxyXG4gICAgICAgICAgPHNlbGVjdCBpZD1cInN1YmNhdGVnb3J5XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwic3ViY2F0ZWdvcnlcIj5cclxuICAgICAgICAgICAgJHt0aGlzLmNyZWF0ZUNhdGVnb3JpZXNTZWxlY3QoKX1cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGZvcm0tZ3JvdXBfX2hhbGZfbGVmdCBmb3JtLWdyb3VwX190d28tY29sXCI+XHJcbiAgICAgICAgICA8ZmllbGRzZXQ+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj7QptC10L3QsCAoJCk8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWRcclxuICAgICAgICAgICAgICBpZD1cInByaWNlXCJcclxuICAgICAgICAgICAgICB2YWx1ZT1cIlwiXHJcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgbmFtZT1cInByaWNlXCJcclxuICAgICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIke3RoaXMuZGVmYXVsdEZvcm1EYXRhLnByaWNlfVwiPlxyXG4gICAgICAgICAgPC9maWVsZHNldD5cclxuICAgICAgICAgIDxmaWVsZHNldD5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiPtCh0LrQuNC00LrQsCAoJCk8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgcmVxdWlyZWRcclxuICAgICAgICAgICAgICBpZD1cImRpc2NvdW50XCJcclxuICAgICAgICAgICAgICB2YWx1ZT1cIlwiXHJcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgbmFtZT1cImRpc2NvdW50XCJcclxuICAgICAgICAgICAgICBjbGFzcz1cImZvcm0tY29udHJvbFwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIke3RoaXMuZGVmYXVsdEZvcm1EYXRhLmRpc2NvdW50fVwiPlxyXG4gICAgICAgICAgPC9maWVsZHNldD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBmb3JtLWdyb3VwX19wYXJ0LWhhbGZcIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj7QmtC+0LvQuNGH0LXRgdGC0LLQvjwvbGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXQgcmVxdWlyZWRcclxuICAgICAgICAgICAgaWQ9XCJxdWFudGl0eVwiXHJcbiAgICAgICAgICAgIHZhbHVlPVwiXCJcclxuICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sXCJcclxuICAgICAgICAgICAgbmFtZT1cInF1YW50aXR5XCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIke3RoaXMuZGVmYXVsdEZvcm1EYXRhLnF1YW50aXR5fVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGZvcm0tZ3JvdXBfX3BhcnQtaGFsZlwiPlxyXG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiPtCh0YLQsNGC0YPRgTwvbGFiZWw+XHJcbiAgICAgICAgICA8c2VsZWN0IGlkPVwic3RhdHVzXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBuYW1lPVwic3RhdHVzXCI+XHJcbiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+0JDQutGC0LjQstC10L08L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjBcIj7QndC10LDQutGC0LjQstC10L08L29wdGlvbj5cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWJ1dHRvbnNcIj5cclxuICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJzYXZlXCIgY2xhc3M9XCJidXR0b24tcHJpbWFyeS1vdXRsaW5lXCI+XHJcbiAgICAgICAgICAgICR7dGhpcy5wcm9kdWN0SWQgPyBcItCh0L7RhdGA0LDQvdC40YLRjFwiIDogXCLQlNC+0LHQsNCy0LjRgtGMXCJ9INGC0L7QstCw0YBcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICA8L2Rpdj5cclxuICAgIGA7XHJcbiAgfVxyXG5cclxuICBnZXRFbXB0eVRlbXBsYXRlKCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgIDxkaXY+XHJcbiAgICAgIDxoMSBjbGFzcz1cInBhZ2UtdGl0bGVcIj7QodGC0YDQsNC90LjRhtCwINC90LUg0L3QsNC50LTQtdC90LA8L2gxPlxyXG4gICAgICA8cD7QmNC30LLQuNC90LjRgtC1LCDQtNCw0L3QvdGL0Lkg0YLQvtCy0LDRgCDQvdC1INGB0YPRidC10YHRgtCy0YPQtdGCPC9wPlxyXG4gICAgPC9kaXY+YDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZUNhdGVnb3JpZXNTZWxlY3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+IHtcclxuICAgICAgcmV0dXJuIGNhdGVnb3J5LnN1YmNhdGVnb3JpZXNcclxuICAgICAgICAubWFwKChzdWJjYXRlZ29yeSkgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPVwiJHtzdWJjYXRlZ29yeS5pZH1cIj4ke2NhdGVnb3J5LnRpdGxlfSAmZ3Q7ICR7c3ViY2F0ZWdvcnkudGl0bGV9PC9vcHRpb24+YDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5qb2luKFwiXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVJbWFnZXNMaXN0KCkge1xyXG4gICAgY29uc3Qge2ltYWdlTGlzdENvbnRhaW5lcn0gPSB0aGlzLnN1YkVsZW1lbnRzO1xyXG4gICAgY29uc3Qge2ltYWdlc30gPSB0aGlzLmZvcm1EYXRhO1xyXG4gICAgY29uc3QgaXRlbXMgPSBpbWFnZXMubWFwKGltYWdlID0+IHRoaXMuZ2V0SW1hZ2VJdGVtKGltYWdlLnVybCwgaW1hZ2Uuc291cmNlKSk7XHJcbiAgICBjb25zdCBzb3J0YWJsZUxpc3QgPSBuZXcgU29ydGFibGVMaXN0KHtpdGVtc30pO1xyXG4gICAgaW1hZ2VMaXN0Q29udGFpbmVyLmFwcGVuZChzb3J0YWJsZUxpc3QuZWxlbWVudClcclxuICB9XHJcblxyXG4gIGdldEltYWdlSXRlbSh1cmwsIG5hbWUpIHtcclxuICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgd3JhcHBlci5pbm5lckhUTUwgPSBgICAgICAgICAgIFxyXG4gICAgICAgIDxsaSBjbGFzcz1cInByb2R1Y3RzLWVkaXRfX2ltYWdlbGlzdC1pdGVtIHNvcnRhYmxlLWxpc3RfX2l0ZW1cIiBzdHlsZT1cIlwiPlxyXG4gICAgICAgICAgPHNwYW4+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vaWNvbnMvaWNvbi1ncmFiLnN2Z1wiIGRhdGEtZ3JhYi1oYW5kbGU9XCJcIiBhbHQ9XCJncmFiXCI+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzb3J0YWJsZS10YWJsZV9fY2VsbC1pbWdcIiBhbHQ9XCIke2VzY2FwZUh0bWwoXHJcbiAgICAgICAgICAgICAgbmFtZVxyXG4gICAgICAgICAgICApfVwiIHNyYz1cIiR7ZXNjYXBlSHRtbCh1cmwpfVwiPlxyXG4gICAgICAgICAgICA8c3Bhbj4ke2VzY2FwZUh0bWwobmFtZSl9PC9zcGFuPlxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCI+XHJcbiAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vaWNvbnMvaWNvbi10cmFzaC5zdmdcIiBkYXRhLWRlbGV0ZS1oYW5kbGU9XCJcIiBhbHQ9XCJkZWxldGVcIj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvbGk+YDtcclxuXHJcbiAgICByZXR1cm4gd3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcclxuICB9XHJcblxyXG4gIGdldFN1YkVsZW1lbnRzKGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVsZW1lbnRzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtZWxlbWVudF1cIik7XHJcbiAgICByZXR1cm4gWy4uLmVsZW1lbnRzXS5yZWR1Y2UoKGFjYywgaXRlbSkgPT4ge1xyXG4gICAgICBhY2NbaXRlbS5kYXRhc2V0LmVsZW1lbnRdID0gaXRlbTtcclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRDYXRlZ29yaWVzTGlzdCgpIHtcclxuICAgIHJldHVybiBhd2FpdCBmZXRjaEpzb24oXHJcbiAgICAgIGAke0JBQ0tFTkRfVVJMfS9hcGkvcmVzdC9jYXRlZ29yaWVzP19zb3J0PXdlaWdodCZfcmVmcz1zdWJjYXRlZ29yeWBcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBsb2FkUHJvZHVjdERhdGEoaWQpIHtcclxuICAgIHJldHVybiBhd2FpdCBmZXRjaEpzb24oYCR7QkFDS0VORF9VUkx9L2FwaS9yZXN0L3Byb2R1Y3RzP2lkPSR7aWR9YCk7XHJcbiAgfVxyXG5cclxuICBzZXRGb3JtRGF0YSgpIHtcclxuICAgIGNvbnN0IHsgcHJvZHVjdEZvcm0gfSA9IHRoaXMuc3ViRWxlbWVudHM7XHJcbiAgICBjb25zdCBleGNsdWRlZERhdGEgPSBbXCJpbWFnZXNcIl07XHJcbiAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyh0aGlzLmRlZmF1bHRGb3JtRGF0YSkuZmlsdGVyKFxyXG4gICAgICAoaXRlbSkgPT4gIWV4Y2x1ZGVkRGF0YS5pbmNsdWRlcyhpdGVtKVxyXG4gICAgKTtcclxuICAgIGZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xyXG4gICAgICBwcm9kdWN0Rm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtmaWVsZH1gKS52YWx1ZSA9XHJcbiAgICAgICAgdGhpcy5mb3JtRGF0YVtmaWVsZF0gfHwgdGhpcy5kZWZhdWx0Rm9ybURhdGFbZmllbGRdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5yZW1vdmUoKTtcclxuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHJlbW92ZSAoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFnQkE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFDQTtBQVVBO0FBaUJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBUUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkRBO0FBeURBO0FBQ0E7QUFDQTtBQUNBO0FBM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFGQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBblVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/product-form/index.js\n");

/***/ }),

/***/ "./src/components/sortable-list/index.js":
/*!***********************************************!*\
  !*** ./src/components/sortable-list/index.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SortableList; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass SortableList {\n  constructor({\n    items = []\n  } = {}) {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"elementInitialIndex\", void 0);\n\n    _defineProperty(this, \"pointerInitialShift\", {});\n\n    _defineProperty(this, \"draggingElem\", void 0);\n\n    _defineProperty(this, \"placeholderElem\", void 0);\n\n    _defineProperty(this, \"onPointerDown\", event => {\n      if (event.which !== 1) {\n        // must be left-button\n        return false;\n      }\n\n      const itemElem = event.target.closest(\".sortable-list__item\");\n\n      if (itemElem) {\n        event.preventDefault();\n\n        if (event.target.closest(\"[data-grab-handle]\")) {\n          this.dragStart(itemElem, event);\n        }\n\n        if (event.target.closest(\"[data-delete-handle]\")) {\n          itemElem.remove();\n        }\n      }\n    });\n\n    _defineProperty(this, \"onDocumentPointerMove\", event => {\n      const {\n        clientX,\n        clientY\n      } = event;\n      this.moveDraggingAt(clientX, clientY);\n      const {\n        firstElementChild,\n        children\n      } = this.element;\n      const {\n        top: firstElementTop\n      } = firstElementChild.getBoundingClientRect();\n      const {\n        bottom\n      } = this.element.getBoundingClientRect();\n\n      if (clientY < firstElementTop) {\n        this.movePlaceholderAt(0);\n      } else if (clientY > bottom) {\n        this.movePlaceholderAt(children.length);\n      } else {\n        for (let i = 0; i < children.length; i++) {\n          const li = children[i]; // ignore to prevent bugs when dragging between elements\n\n          if (li !== this.draggingElem) {\n            const {\n              top,\n              bottom\n            } = li.getBoundingClientRect();\n            const {\n              offsetHeight: height\n            } = li;\n\n            if (clientY > top && clientY < bottom) {\n              // inside the element (y-axis)\n              if (clientY < top + height / 2) {\n                // upper half of the element\n                this.movePlaceholderAt(i);\n                break;\n              } else {\n                // lower half of the element\n                this.movePlaceholderAt(i + 1);\n                break;\n              }\n            }\n          }\n        }\n      }\n\n      this.scrollIfCloseToWindowEdge(clientY);\n    });\n\n    _defineProperty(this, \"onDocumentPointerUp\", event => {\n      this.dragStop();\n    });\n\n    this.items = items;\n    this.render();\n  }\n\n  render() {\n    this.element = document.createElement(\"ul\");\n    this.element.className = \"sortable-list\";\n    this.addItems();\n    this.initEventListeners();\n  }\n\n  initEventListeners() {\n    this.element.addEventListener(\"pointerdown\", this.onPointerDown);\n  }\n\n  addItems() {\n    for (let item of this.items) {\n      item.classList.add(\"sortable-list__item\");\n    }\n\n    this.element.append(...this.items);\n  }\n\n  dragStart(itemElem, event) {\n    const {\n      clientX,\n      clientY\n    } = event;\n    this.elementInitialIndex = [...this.element.children].indexOf(itemElem);\n    this.pointerInitialShift = {\n      x: clientX - itemElem.getBoundingClientRect().x,\n      y: clientY - itemElem.getBoundingClientRect().y\n    };\n    this.draggingElem = itemElem; // Create a placeholder\n\n    this.placeholderElem = document.createElement(\"li\");\n    this.placeholderElem.className = \"sortable-list__placeholder\"; // itemElem will get position:fixed\n    // so its width will be auto-set to fit the parent container\n\n    itemElem.style.width = \"\".concat(itemElem.offsetWidth, \"px\");\n    itemElem.style.height = \"\".concat(itemElem.offsetHeight, \"px\");\n    this.placeholderElem.style.width = itemElem.style.width;\n    this.placeholderElem.style.height = itemElem.style.height;\n    itemElem.classList.add(\"sortable-list__item_dragging\");\n    itemElem.after(this.placeholderElem); // move to the end, to be over other list elements\n\n    this.element.append(itemElem);\n    this.moveDraggingAt(clientX, clientY);\n    document.addEventListener(\"pointermove\", this.onDocumentPointerMove);\n    document.addEventListener(\"pointerup\", this.onDocumentPointerUp);\n  }\n\n  moveDraggingAt(clientX, clientY) {\n    this.draggingElem.style.left = clientX - this.pointerInitialShift.x + \"px\";\n    this.draggingElem.style.top = clientY - this.pointerInitialShift.y + \"px\";\n  }\n\n  movePlaceholderAt(index) {\n    const currentElement = this.element.children[index];\n\n    if (currentElement !== this.placeholderElem) {\n      this.element.insertBefore(this.placeholderElem, currentElement);\n    }\n  }\n\n  dragStop() {\n    const placeholderIndex = [...this.element.children].indexOf(this.placeholderElem); // drop element back\n\n    this.placeholderElem.replaceWith(this.draggingElem);\n    this.draggingElem.classList.remove(\"sortable-list__item_dragging\");\n    this.draggingElem.style.left = \"\";\n    this.draggingElem.style.top = \"\";\n    this.draggingElem.style.width = \"\";\n    this.draggingElem.style.height = \"\";\n    document.removeEventListener(\"pointermove\", this.onDocumentPointerMove);\n    document.removeEventListener(\"pointerup\", this.onDocumentPointerUp);\n    this.draggingElem = null;\n\n    if (placeholderIndex !== this.elementInitialIndex) {\n      this.element.dispatchEvent(new CustomEvent(\"sortable-list-reorder\", {\n        bubbles: true,\n        detail: {\n          from: this.elementInitialIndex,\n          to: placeholderIndex\n        }\n      }));\n    }\n  }\n\n  scrollIfCloseToWindowEdge(clientY) {\n    const scrollingValue = 10;\n    const threshold = 20;\n\n    if (clientY < threshold) {\n      window.scrollBy(0, -scrollingValue);\n    } else if (clientY > document.documentElement.clientHeight - threshold) {\n      window.scrollBy(0, scrollingValue);\n    }\n  }\n\n  remove() {\n    this.element.remove();\n    document.removeEventListener(\"pointermove\", this.onDocumentPointerMove);\n    document.removeEventListener(\"pointerup\", this.onDocumentPointerUp);\n  }\n\n  destroy() {\n    this.remove();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9zb3J0YWJsZS1saXN0L2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc29ydGFibGUtbGlzdC9pbmRleC5qcz8wNWQxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvcnRhYmxlTGlzdCB7XHJcbiAgZWxlbWVudDtcclxuICBlbGVtZW50SW5pdGlhbEluZGV4O1xyXG4gIHBvaW50ZXJJbml0aWFsU2hpZnQgPSB7fTtcclxuICBkcmFnZ2luZ0VsZW07XHJcbiAgcGxhY2Vob2xkZXJFbGVtO1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zID0gW10gfSA9IHt9KSB7XHJcbiAgICB0aGlzLml0ZW1zID0gaXRlbXM7XHJcblxyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSBcInNvcnRhYmxlLWxpc3RcIjtcclxuXHJcbiAgICB0aGlzLmFkZEl0ZW1zKCk7XHJcbiAgICB0aGlzLmluaXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgaW5pdEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLm9uUG9pbnRlckRvd24pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbXMoKSB7XHJcbiAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuaXRlbXMpIHtcclxuICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKFwic29ydGFibGUtbGlzdF9faXRlbVwiKTtcclxuICAgIH1cclxuICAgIHRoaXMuZWxlbWVudC5hcHBlbmQoLi4udGhpcy5pdGVtcyk7XHJcbiAgfVxyXG5cclxuICBvblBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQud2hpY2ggIT09IDEpIHtcclxuICAgICAgLy8gbXVzdCBiZSBsZWZ0LWJ1dHRvblxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXRlbUVsZW0gPSBldmVudC50YXJnZXQuY2xvc2VzdChcIi5zb3J0YWJsZS1saXN0X19pdGVtXCIpO1xyXG5cclxuICAgIGlmIChpdGVtRWxlbSkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1ncmFiLWhhbmRsZV1cIikpIHtcclxuICAgICAgICB0aGlzLmRyYWdTdGFydChpdGVtRWxlbSwgZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCJbZGF0YS1kZWxldGUtaGFuZGxlXVwiKSkge1xyXG4gICAgICAgIGl0ZW1FbGVtLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZHJhZ1N0YXJ0KGl0ZW1FbGVtLCBldmVudCkge1xyXG4gICAgY29uc3QgeyBjbGllbnRYLCBjbGllbnRZIH0gPSBldmVudDtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRJbml0aWFsSW5kZXggPSBbLi4udGhpcy5lbGVtZW50LmNoaWxkcmVuXS5pbmRleE9mKGl0ZW1FbGVtKTtcclxuXHJcbiAgICB0aGlzLnBvaW50ZXJJbml0aWFsU2hpZnQgPSB7XHJcbiAgICAgIHg6IGNsaWVudFggLSBpdGVtRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LFxyXG4gICAgICB5OiBjbGllbnRZIC0gaXRlbUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0gPSBpdGVtRWxlbTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBwbGFjZWhvbGRlclxyXG4gICAgdGhpcy5wbGFjZWhvbGRlckVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyRWxlbS5jbGFzc05hbWUgPSBcInNvcnRhYmxlLWxpc3RfX3BsYWNlaG9sZGVyXCI7XHJcblxyXG4gICAgLy8gaXRlbUVsZW0gd2lsbCBnZXQgcG9zaXRpb246Zml4ZWRcclxuICAgIC8vIHNvIGl0cyB3aWR0aCB3aWxsIGJlIGF1dG8tc2V0IHRvIGZpdCB0aGUgcGFyZW50IGNvbnRhaW5lclxyXG4gICAgaXRlbUVsZW0uc3R5bGUud2lkdGggPSBgJHtpdGVtRWxlbS5vZmZzZXRXaWR0aH1weGA7XHJcbiAgICBpdGVtRWxlbS5zdHlsZS5oZWlnaHQgPSBgJHtpdGVtRWxlbS5vZmZzZXRIZWlnaHR9cHhgO1xyXG5cclxuICAgIHRoaXMucGxhY2Vob2xkZXJFbGVtLnN0eWxlLndpZHRoID0gaXRlbUVsZW0uc3R5bGUud2lkdGg7XHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyRWxlbS5zdHlsZS5oZWlnaHQgPSBpdGVtRWxlbS5zdHlsZS5oZWlnaHQ7XHJcblxyXG4gICAgaXRlbUVsZW0uY2xhc3NMaXN0LmFkZChcInNvcnRhYmxlLWxpc3RfX2l0ZW1fZHJhZ2dpbmdcIik7XHJcblxyXG4gICAgaXRlbUVsZW0uYWZ0ZXIodGhpcy5wbGFjZWhvbGRlckVsZW0pO1xyXG5cclxuICAgIC8vIG1vdmUgdG8gdGhlIGVuZCwgdG8gYmUgb3ZlciBvdGhlciBsaXN0IGVsZW1lbnRzXHJcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKGl0ZW1FbGVtKTtcclxuXHJcbiAgICB0aGlzLm1vdmVEcmFnZ2luZ0F0KGNsaWVudFgsIGNsaWVudFkpO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uRG9jdW1lbnRQb2ludGVyTW92ZSk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Eb2N1bWVudFBvaW50ZXJVcCk7XHJcbiAgfVxyXG5cclxuICBvbkRvY3VtZW50UG9pbnRlck1vdmUgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnQ7XHJcblxyXG4gICAgdGhpcy5tb3ZlRHJhZ2dpbmdBdChjbGllbnRYLCBjbGllbnRZKTtcclxuXHJcbiAgICBjb25zdCB7IGZpcnN0RWxlbWVudENoaWxkLCBjaGlsZHJlbiB9ID0gdGhpcy5lbGVtZW50O1xyXG4gICAgY29uc3QgeyB0b3A6IGZpcnN0RWxlbWVudFRvcCB9ID0gZmlyc3RFbGVtZW50Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjb25zdCB7IGJvdHRvbSB9ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgIGlmIChjbGllbnRZIDwgZmlyc3RFbGVtZW50VG9wKSB7XHJcbiAgICAgIHRoaXMubW92ZVBsYWNlaG9sZGVyQXQoMCk7XHJcbiAgICB9IGVsc2UgaWYgKGNsaWVudFkgPiBib3R0b20pIHtcclxuICAgICAgdGhpcy5tb3ZlUGxhY2Vob2xkZXJBdChjaGlsZHJlbi5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGxpID0gY2hpbGRyZW5baV07XHJcbiAgICAgICAgLy8gaWdub3JlIHRvIHByZXZlbnQgYnVncyB3aGVuIGRyYWdnaW5nIGJldHdlZW4gZWxlbWVudHNcclxuICAgICAgICBpZiAobGkgIT09IHRoaXMuZHJhZ2dpbmdFbGVtKSB7XHJcbiAgICAgICAgICBjb25zdCB7IHRvcCwgYm90dG9tIH0gPSBsaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgIGNvbnN0IHsgb2Zmc2V0SGVpZ2h0OiBoZWlnaHQgfSA9IGxpO1xyXG5cclxuICAgICAgICAgIGlmIChjbGllbnRZID4gdG9wICYmIGNsaWVudFkgPCBib3R0b20pIHtcclxuICAgICAgICAgICAgLy8gaW5zaWRlIHRoZSBlbGVtZW50ICh5LWF4aXMpXHJcbiAgICAgICAgICAgIGlmIChjbGllbnRZIDwgdG9wICsgaGVpZ2h0IC8gMikge1xyXG4gICAgICAgICAgICAgIC8vIHVwcGVyIGhhbGYgb2YgdGhlIGVsZW1lbnRcclxuICAgICAgICAgICAgICB0aGlzLm1vdmVQbGFjZWhvbGRlckF0KGkpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIGxvd2VyIGhhbGYgb2YgdGhlIGVsZW1lbnRcclxuICAgICAgICAgICAgICB0aGlzLm1vdmVQbGFjZWhvbGRlckF0KGkgKyAxKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2Nyb2xsSWZDbG9zZVRvV2luZG93RWRnZShjbGllbnRZKTtcclxuICB9O1xyXG5cclxuICBtb3ZlRHJhZ2dpbmdBdChjbGllbnRYLCBjbGllbnRZKSB7XHJcbiAgICB0aGlzLmRyYWdnaW5nRWxlbS5zdHlsZS5sZWZ0ID0gY2xpZW50WCAtIHRoaXMucG9pbnRlckluaXRpYWxTaGlmdC54ICsgXCJweFwiO1xyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0uc3R5bGUudG9wID0gY2xpZW50WSAtIHRoaXMucG9pbnRlckluaXRpYWxTaGlmdC55ICsgXCJweFwiO1xyXG4gIH1cclxuXHJcbiAgbW92ZVBsYWNlaG9sZGVyQXQoaW5kZXgpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuW2luZGV4XTtcclxuXHJcbiAgICBpZiAoY3VycmVudEVsZW1lbnQgIT09IHRoaXMucGxhY2Vob2xkZXJFbGVtKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlckVsZW0sIGN1cnJlbnRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRG9jdW1lbnRQb2ludGVyVXAgPSAoZXZlbnQpID0+IHtcclxuICAgIHRoaXMuZHJhZ1N0b3AoKTtcclxuICB9O1xyXG5cclxuICBkcmFnU3RvcCgpIHtcclxuICAgIGNvbnN0IHBsYWNlaG9sZGVySW5kZXggPSBbLi4udGhpcy5lbGVtZW50LmNoaWxkcmVuXS5pbmRleE9mKFxyXG4gICAgICB0aGlzLnBsYWNlaG9sZGVyRWxlbVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBkcm9wIGVsZW1lbnQgYmFja1xyXG4gICAgdGhpcy5wbGFjZWhvbGRlckVsZW0ucmVwbGFjZVdpdGgodGhpcy5kcmFnZ2luZ0VsZW0pO1xyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0uY2xhc3NMaXN0LnJlbW92ZShcInNvcnRhYmxlLWxpc3RfX2l0ZW1fZHJhZ2dpbmdcIik7XHJcblxyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0uc3R5bGUubGVmdCA9IFwiXCI7XHJcbiAgICB0aGlzLmRyYWdnaW5nRWxlbS5zdHlsZS50b3AgPSBcIlwiO1xyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0uc3R5bGUud2lkdGggPSBcIlwiO1xyXG4gICAgdGhpcy5kcmFnZ2luZ0VsZW0uc3R5bGUuaGVpZ2h0ID0gXCJcIjtcclxuXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5vbkRvY3VtZW50UG9pbnRlck1vdmUpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLm9uRG9jdW1lbnRQb2ludGVyVXApO1xyXG5cclxuICAgIHRoaXMuZHJhZ2dpbmdFbGVtID0gbnVsbDtcclxuXHJcbiAgICBpZiAocGxhY2Vob2xkZXJJbmRleCAhPT0gdGhpcy5lbGVtZW50SW5pdGlhbEluZGV4KSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KFxyXG4gICAgICAgIG5ldyBDdXN0b21FdmVudChcInNvcnRhYmxlLWxpc3QtcmVvcmRlclwiLCB7XHJcbiAgICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgICAgZGV0YWlsOiB7XHJcbiAgICAgICAgICAgIGZyb206IHRoaXMuZWxlbWVudEluaXRpYWxJbmRleCxcclxuICAgICAgICAgICAgdG86IHBsYWNlaG9sZGVySW5kZXgsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzY3JvbGxJZkNsb3NlVG9XaW5kb3dFZGdlKGNsaWVudFkpIHtcclxuICAgIGNvbnN0IHNjcm9sbGluZ1ZhbHVlID0gMTA7XHJcbiAgICBjb25zdCB0aHJlc2hvbGQgPSAyMDtcclxuXHJcbiAgICBpZiAoY2xpZW50WSA8IHRocmVzaG9sZCkge1xyXG4gICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgLXNjcm9sbGluZ1ZhbHVlKTtcclxuICAgIH0gZWxzZSBpZiAoY2xpZW50WSA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSB0aHJlc2hvbGQpIHtcclxuICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIHNjcm9sbGluZ1ZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLm9uRG9jdW1lbnRQb2ludGVyTW92ZSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcnVwXCIsIHRoaXMub25Eb2N1bWVudFBvaW50ZXJVcCk7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1Q0E7QUFtRkE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6SEE7QUF3SUE7QUFDQTtBQUNBO0FBeklBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFxQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFGQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRNQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/sortable-list/index.js\n");

/***/ }),

/***/ "./src/pages/products/edit/index.js":
/*!******************************************!*\
  !*** ./src/pages/products/edit/index.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Page; });\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\n/* harmony import */ var _components_product_form_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/product-form/index.js */ \"./src/components/product-form/index.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nclass Page {\n  constructor() {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"subElements\", {});\n\n    _defineProperty(this, \"components\", {});\n  }\n\n  render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n    this.initComponents();\n    this.renderComponents();\n    return this.element;\n  }\n\n  async renderComponents() {\n    const {\n      productForm\n    } = this.components;\n    const {\n      productFormWrapper\n    } = this.subElements;\n    productForm.renderForm();\n    await productForm.render();\n    productFormWrapper.append(productForm.element);\n  }\n\n  get template() {\n    return \"\\n      <div class=\\\"products-edit\\\">\\n      <div class=\\\"content__top-panel\\\">\\n        <h1 class=\\\"page-title\\\">\\n          <a href=\\\"/products\\\" class=\\\"link\\\">\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B</a> / \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\n        </h1>\\n      </div>\\n        <div data-element=\\\"productFormWrapper\\\" class=\\\"content-box\\\">\\n        <!-- //!ProductFormComponent -->\\n        </div>\\n      </div>\\n    </div>\";\n  }\n\n  initComponents() {\n    const productId = this.getProductId();\n    this.components.productForm = new _components_product_form_index_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]('koaksialnaa-as-jvc-cs-zx630');\n  }\n\n  getProductId() {\n    console.log(window.location);\n  }\n\n  getSubElements($element) {\n    const elements = $element.querySelectorAll('[data-element]');\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n      return accum;\n    }, {});\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvcHJvZHVjdHMvZWRpdC9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlcy9wcm9kdWN0cy9lZGl0L2luZGV4LmpzP2VhYjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZldGNoSnNvbiBmcm9tICcuLi8uLi8uLi91dGlscy9mZXRjaC1qc29uLmpzJztcclxuaW1wb3J0IFByb2R1Y3RGb3JtIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvcHJvZHVjdC1mb3JtL2luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xyXG4gIGVsZW1lbnQ7XHJcbiAgc3ViRWxlbWVudHMgPSB7fTtcclxuICBjb21wb25lbnRzID0ge307XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGU7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcclxuICAgIHRoaXMuc3ViRWxlbWVudHMgPSB0aGlzLmdldFN1YkVsZW1lbnRzKHRoaXMuZWxlbWVudCk7XHJcblxyXG4gICAgdGhpcy5pbml0Q29tcG9uZW50cygpO1xyXG4gICAgdGhpcy5yZW5kZXJDb21wb25lbnRzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlckNvbXBvbmVudHMoKSB7XHJcbiAgICBjb25zdCB7IHByb2R1Y3RGb3JtIH0gPSB0aGlzLmNvbXBvbmVudHM7XHJcbiAgICBjb25zdCB7IHByb2R1Y3RGb3JtV3JhcHBlciB9ID0gdGhpcy5zdWJFbGVtZW50cztcclxuXHJcbiAgICBwcm9kdWN0Rm9ybS5yZW5kZXJGb3JtKCk7XHJcbiAgICBhd2FpdCBwcm9kdWN0Rm9ybS5yZW5kZXIoKTtcclxuICAgIHByb2R1Y3RGb3JtV3JhcHBlci5hcHBlbmQocHJvZHVjdEZvcm0uZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBnZXQgdGVtcGxhdGUoKSB7XHJcbiAgICByZXR1cm4gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwicHJvZHVjdHMtZWRpdFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGVudF9fdG9wLXBhbmVsXCI+XHJcbiAgICAgICAgPGgxIGNsYXNzPVwicGFnZS10aXRsZVwiPlxyXG4gICAgICAgICAgPGEgaHJlZj1cIi9wcm9kdWN0c1wiIGNsYXNzPVwibGlua1wiPtCi0L7QstCw0YDRizwvYT4gLyDQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjFxyXG4gICAgICAgIDwvaDE+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwicHJvZHVjdEZvcm1XcmFwcGVyXCIgY2xhc3M9XCJjb250ZW50LWJveFwiPlxyXG4gICAgICAgIDwhLS0gLy8hUHJvZHVjdEZvcm1Db21wb25lbnQgLS0+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YDtcclxuICB9XHJcblxyXG4gIGluaXRDb21wb25lbnRzKCkge1xyXG4gICAgY29uc3QgcHJvZHVjdElkID0gdGhpcy5nZXRQcm9kdWN0SWQoKTtcclxuICAgIHRoaXMuY29tcG9uZW50cy5wcm9kdWN0Rm9ybSA9IG5ldyBQcm9kdWN0Rm9ybSgna29ha3NpYWxuYWEtYXMtanZjLWNzLXp4NjMwJyk7XHJcbiAgfVxyXG5cclxuICBnZXRQcm9kdWN0SWQoKSB7XHJcbiAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24pO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3ViRWxlbWVudHMoJGVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVsZW1lbnRzID0gJGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWxlbWVudF0nKTtcclxuXHJcbiAgICByZXR1cm4gWy4uLmVsZW1lbnRzXS5yZWR1Y2UoKGFjY3VtLCBzdWJFbGVtZW50KSA9PiB7XHJcbiAgICAgIGFjY3VtW3N1YkVsZW1lbnQuZGF0YXNldC5lbGVtZW50XSA9IHN1YkVsZW1lbnQ7XHJcblxyXG4gICAgICByZXR1cm4gYWNjdW07XHJcbiAgICB9LCB7fSk7XHJcbiAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBN0RBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/products/edit/index.js\n");

/***/ }),

/***/ "./src/utils/escape-html.js":
/*!**********************************!*\
  !*** ./src/utils/escape-html.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (string => string.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;'));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZXNjYXBlLWh0bWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZXNjYXBlLWh0bWwuanM/OGVjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBzdHJpbmcgPT4gc3RyaW5nXHJcbiAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcclxuICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXHJcbiAgLnJlcGxhY2UoLycvZywgJyYjMzk7JylcclxuICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXHJcbiAgLnJlcGxhY2UoLz4vZywgJyZndDsnKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/escape-html.js\n");

/***/ }),

/***/ "./src/utils/fetch-json.js":
/*!*********************************!*\
  !*** ./src/utils/fetch-json.js ***!
  \*********************************/
/*! exports provided: default, FetchError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FetchError\", function() { return FetchError; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// same as fetch, but throws FetchError in case of errors\n// status >= 400 is an error\n// network error / json error are errors\n/* harmony default export */ __webpack_exports__[\"default\"] = (async function (url, params) {\n  let response;\n\n  try {\n    // NOTE: \"toString\" call needed for correct work of \"jest-fetch-mock\"\n    response = await fetch(url.toString(), params);\n  } catch (err) {\n    throw new FetchError(response, \"Network error has occurred.\");\n  }\n\n  let body;\n\n  if (!response.ok) {\n    let errorText = response.statusText; // Not Found (for 404)\n\n    try {\n      body = await response.json();\n      errorText = body.error && body.error.message || body.data && body.data.error && body.data.error.message || errorText;\n    } catch (error) {\n      /* ignore failed body */\n    }\n\n    let message = \"Error \".concat(response.status, \": \").concat(errorText);\n    throw new FetchError(response, body, message);\n  }\n\n  try {\n    return await response.json();\n  } catch (err) {\n    throw new FetchError(response, null, err.message);\n  }\n});\nclass FetchError extends Error {\n  constructor(response, body, message) {\n    super(message);\n\n    _defineProperty(this, \"name\", \"FetchError\");\n\n    this.response = response;\n    this.body = body;\n  }\n\n} // handle uncaught failed fetch through\n\nwindow.addEventListener('unhandledrejection', event => {\n  if (event.reason instanceof FetchError) {\n    alert(event.reason.message);\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvZmV0Y2gtanNvbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9mZXRjaC1qc29uLmpzPzNiNTgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc2FtZSBhcyBmZXRjaCwgYnV0IHRocm93cyBGZXRjaEVycm9yIGluIGNhc2Ugb2YgZXJyb3JzXHJcbi8vIHN0YXR1cyA+PSA0MDAgaXMgYW4gZXJyb3JcclxuLy8gbmV0d29yayBlcnJvciAvIGpzb24gZXJyb3IgYXJlIGVycm9yc1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24odXJsLCBwYXJhbXMpIHtcclxuICBsZXQgcmVzcG9uc2U7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyBOT1RFOiBcInRvU3RyaW5nXCIgY2FsbCBuZWVkZWQgZm9yIGNvcnJlY3Qgd29yayBvZiBcImplc3QtZmV0Y2gtbW9ja1wiXHJcbiAgICByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybC50b1N0cmluZygpLCBwYXJhbXMpO1xyXG4gIH0gY2F0Y2goZXJyKSB7XHJcbiAgICB0aHJvdyBuZXcgRmV0Y2hFcnJvcihyZXNwb25zZSwgXCJOZXR3b3JrIGVycm9yIGhhcyBvY2N1cnJlZC5cIik7XHJcbiAgfVxyXG5cclxuICBsZXQgYm9keTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgbGV0IGVycm9yVGV4dCA9IHJlc3BvbnNlLnN0YXR1c1RleHQ7IC8vIE5vdCBGb3VuZCAoZm9yIDQwNClcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgICAgZXJyb3JUZXh0ID0gKGJvZHkuZXJyb3IgJiYgYm9keS5lcnJvci5tZXNzYWdlKSB8fCAoYm9keS5kYXRhICYmIGJvZHkuZGF0YS5lcnJvciAmJiBib2R5LmRhdGEuZXJyb3IubWVzc2FnZSkgfHwgZXJyb3JUZXh0O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogaWdub3JlIGZhaWxlZCBib2R5ICovIH1cclxuXHJcbiAgICBsZXQgbWVzc2FnZSA9IGBFcnJvciAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWA7XHJcblxyXG4gICAgdGhyb3cgbmV3IEZldGNoRXJyb3IocmVzcG9uc2UsIGJvZHksIG1lc3NhZ2UpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgfSBjYXRjaChlcnIpIHtcclxuICAgIHRocm93IG5ldyBGZXRjaEVycm9yKHJlc3BvbnNlLCBudWxsLCBlcnIubWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmV0Y2hFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICBuYW1lID0gXCJGZXRjaEVycm9yXCI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHJlc3BvbnNlLCBib2R5LCBtZXNzYWdlKSB7XHJcbiAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgIHRoaXMuYm9keSA9IGJvZHk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBoYW5kbGUgdW5jYXVnaHQgZmFpbGVkIGZldGNoIHRocm91Z2hcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VuaGFuZGxlZHJlamVjdGlvbicsIGV2ZW50ID0+IHtcclxuICBpZiAoZXZlbnQucmVhc29uIGluc3RhbmNlb2YgRmV0Y2hFcnJvcikge1xyXG4gICAgYWxlcnQoZXZlbnQucmVhc29uLm1lc3NhZ2UpO1xyXG4gIH1cclxufSk7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/fetch-json.js\n");

/***/ })

}]);