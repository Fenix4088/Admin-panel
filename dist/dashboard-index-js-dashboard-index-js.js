(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["dashboard-index-js"],{

/***/ "./src/components/column-chart/index.js":
/*!**********************************************!*\
  !*** ./src/components/column-chart/index.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ColumnChart; });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nclass ColumnChart {\n  constructor({\n    data = [],\n    label = '',\n    link = '',\n    value = 0\n  } = {}) {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"subElements\", {});\n\n    _defineProperty(this, \"chartHeight\", 50);\n\n    this.data = data;\n    this.label = label;\n    this.link = link;\n    this.value = value;\n    this.render();\n  }\n\n  getColumnBody(data) {\n    const maxValue = Math.max(...data);\n    return data.map(item => {\n      const scale = this.chartHeight / maxValue;\n      const percent = (item / maxValue * 100).toFixed(0);\n      return \"<div style=\\\"--value: \".concat(Math.floor(item * scale), \"\\\" data-tooltip=\\\"\").concat(percent, \"%\\\"></div>\");\n    }).join('');\n  }\n\n  getLink() {\n    return this.link ? \"<a class=\\\"column-chart__link\\\" href=\\\"\".concat(this.link, \"\\\">View all</a>\") : '';\n  }\n\n  get template() {\n    return \"\\n      <div class=\\\"column-chart column-chart_loading\\\" style=\\\"--chart-height: \".concat(this.chartHeight, \"\\\">\\n        <div class=\\\"column-chart__title\\\">\\n          Total \").concat(this.label, \"\\n          \").concat(this.getLink(), \"\\n        </div>\\n        <div class=\\\"column-chart__container\\\">\\n          <div data-element=\\\"header\\\" class=\\\"column-chart__header\\\">\\n            \").concat(this.value, \"\\n          </div>\\n          <div data-element=\\\"body\\\" class=\\\"column-chart__chart\\\">\\n            \").concat(this.getColumnBody(this.data), \"\\n          </div>\\n        </div>\\n      </div>\\n    \");\n  }\n\n  async render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n    this.element = element.firstElementChild;\n\n    if (this.data.length) {\n      this.element.classList.remove(\"column-chart_loading\");\n    }\n\n    this.subElements = this.getSubElements(this.element);\n    return this.element;\n  }\n\n  getSubElements(element) {\n    const elements = element.querySelectorAll('[data-element]');\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n      return accum;\n    }, {});\n  }\n\n  update({\n    headerData,\n    bodyData\n  }) {\n    this.subElements.header.textContent = headerData;\n    this.subElements.body.innerHTML = this.getColumnBody(bodyData);\n  }\n\n  destroy() {\n    this.element.remove();\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanM/OTAzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5DaGFydCB7XHJcbiAgZWxlbWVudDtcclxuICBzdWJFbGVtZW50cyA9IHt9O1xyXG4gIGNoYXJ0SGVpZ2h0ID0gNTA7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIGRhdGEgPSBbXSxcclxuICAgIGxhYmVsID0gJycsXHJcbiAgICBsaW5rID0gJycsXHJcbiAgICB2YWx1ZSA9IDBcclxuICB9ID0ge30pIHtcclxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICB0aGlzLmxpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG5cclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG5cclxuICBnZXRDb2x1bW5Cb2R5KGRhdGEpIHtcclxuICAgIGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoLi4uZGF0YSk7XHJcblxyXG4gICAgcmV0dXJuIGRhdGFcclxuICAgIC5tYXAoaXRlbSA9PiB7XHJcbiAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5jaGFydEhlaWdodCAvIG1heFZhbHVlO1xyXG4gICAgICBjb25zdCBwZXJjZW50ID0gKGl0ZW0gLyBtYXhWYWx1ZSAqIDEwMCkudG9GaXhlZCgwKTtcclxuXHJcbiAgICAgIHJldHVybiBgPGRpdiBzdHlsZT1cIi0tdmFsdWU6ICR7TWF0aC5mbG9vcihpdGVtICogc2NhbGUpfVwiIGRhdGEtdG9vbHRpcD1cIiR7cGVyY2VudH0lXCI+PC9kaXY+YDtcclxuICAgIH0pXHJcbiAgICAuam9pbignJyk7XHJcbiAgfVxyXG5cclxuICBnZXRMaW5rKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGluayA/IGA8YSBjbGFzcz1cImNvbHVtbi1jaGFydF9fbGlua1wiIGhyZWY9XCIke3RoaXMubGlua31cIj5WaWV3IGFsbDwvYT5gIDogJyc7XHJcbiAgfVxyXG5cclxuICBnZXQgdGVtcGxhdGUgKCkge1xyXG4gICAgcmV0dXJuIGBcclxuICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbi1jaGFydCBjb2x1bW4tY2hhcnRfbG9hZGluZ1wiIHN0eWxlPVwiLS1jaGFydC1oZWlnaHQ6ICR7dGhpcy5jaGFydEhlaWdodH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uLWNoYXJ0X190aXRsZVwiPlxyXG4gICAgICAgICAgVG90YWwgJHt0aGlzLmxhYmVsfVxyXG4gICAgICAgICAgJHt0aGlzLmdldExpbmsoKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uLWNoYXJ0X19jb250YWluZXJcIj5cclxuICAgICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwiaGVhZGVyXCIgY2xhc3M9XCJjb2x1bW4tY2hhcnRfX2hlYWRlclwiPlxyXG4gICAgICAgICAgICAke3RoaXMudmFsdWV9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwiYm9keVwiIGNsYXNzPVwiY29sdW1uLWNoYXJ0X19jaGFydFwiPlxyXG4gICAgICAgICAgICAke3RoaXMuZ2V0Q29sdW1uQm9keSh0aGlzLmRhdGEpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlcigpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGU7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xyXG5cclxuICAgIGlmICh0aGlzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGBjb2x1bW4tY2hhcnRfbG9hZGluZ2ApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3ViRWxlbWVudHMgPSB0aGlzLmdldFN1YkVsZW1lbnRzKHRoaXMuZWxlbWVudCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdldFN1YkVsZW1lbnRzIChlbGVtZW50KSB7XHJcbiAgICBjb25zdCBlbGVtZW50cyA9IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZWxlbWVudF0nKTtcclxuXHJcbiAgICByZXR1cm4gWy4uLmVsZW1lbnRzXS5yZWR1Y2UoKGFjY3VtLCBzdWJFbGVtZW50KSA9PiB7XHJcbiAgICAgIGFjY3VtW3N1YkVsZW1lbnQuZGF0YXNldC5lbGVtZW50XSA9IHN1YkVsZW1lbnQ7XHJcblxyXG4gICAgICByZXR1cm4gYWNjdW07XHJcbiAgICB9LCB7fSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGUgKHtoZWFkZXJEYXRhLCBib2R5RGF0YX0pIHtcclxuICAgIHRoaXMuc3ViRWxlbWVudHMuaGVhZGVyLnRleHRDb250ZW50ID0gaGVhZGVyRGF0YTtcclxuICAgIHRoaXMuc3ViRWxlbWVudHMuYm9keS5pbm5lckhUTUwgPSB0aGlzLmdldENvbHVtbkJvZHkoYm9keURhdGEpO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/column-chart/index.js\n");

/***/ }),

/***/ "./src/pages/dashboard/bestsellers-header.js":
/*!***************************************************!*\
  !*** ./src/pages/dashboard/bestsellers-header.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst header = [{\n  id: 'images',\n  title: 'Image',\n  sortable: false,\n  template: data => {\n    return \"\\n          <div class=\\\"sortable-table__cell\\\">\\n            <img class=\\\"sortable-table-image\\\" alt=\\\"Image\\\" src=\\\"\".concat(data[0].url, \"\\\">\\n          </div>\\n        \");\n  }\n}, {\n  id: 'title',\n  title: 'Name',\n  sortable: true,\n  sortType: 'string'\n}, {\n  id: 'subcategory',\n  title: 'Category',\n  sortable: false,\n  sortType: 'string',\n  template: data => {\n    return \"<div class=\\\"sortable-table__cell\\\">\\n     <span data-tooltip='\\n     <div class=\\\"sortable-table-tooltip\\\">\\n       <span class=\\\"sortable-table-tooltip__category\\\">\".concat(data.category.title, \"</span> /\\n       <b class=\\\"sortable-table-tooltip__subcategory\\\">\").concat(data.title, \"</b>\\n     </div>'>\").concat(data.title, \"</span>\\n     </div>\");\n  }\n}, {\n  id: 'quantity',\n  title: 'Quantity',\n  sortable: true,\n  sortType: 'number'\n}, {\n  id: 'price',\n  title: 'Price',\n  sortable: true,\n  sortType: 'number',\n  template: data => \"<div class=\\\"sortable-table__cell\\\">$\".concat(data, \"</div>\")\n}, {\n  id: 'sales',\n  title: 'Sales',\n  sortable: true,\n  sortType: 'number'\n}];\n/* harmony default export */ __webpack_exports__[\"default\"] = (header);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkL2Jlc3RzZWxsZXJzLWhlYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYWdlcy9kYXNoYm9hcmQvYmVzdHNlbGxlcnMtaGVhZGVyLmpzP2FkZWEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgaGVhZGVyID0gW1xyXG4gIHtcclxuICAgIGlkOiAnaW1hZ2VzJyxcclxuICAgIHRpdGxlOiAnSW1hZ2UnLFxyXG4gICAgc29ydGFibGU6IGZhbHNlLFxyXG4gICAgdGVtcGxhdGU6IGRhdGEgPT4ge1xyXG4gICAgICByZXR1cm4gYFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRhYmxlLXRhYmxlX19jZWxsXCI+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzb3J0YWJsZS10YWJsZS1pbWFnZVwiIGFsdD1cIkltYWdlXCIgc3JjPVwiJHtkYXRhWzBdLnVybH1cIj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ3RpdGxlJyxcclxuICAgIHRpdGxlOiAnTmFtZScsXHJcbiAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgIHNvcnRUeXBlOiAnc3RyaW5nJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdzdWJjYXRlZ29yeScsXHJcbiAgICB0aXRsZTogJ0NhdGVnb3J5JyxcclxuICAgIHNvcnRhYmxlOiBmYWxzZSxcclxuICAgIHNvcnRUeXBlOiAnc3RyaW5nJyxcclxuICAgIHRlbXBsYXRlOiBkYXRhID0+IHtcclxuICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJzb3J0YWJsZS10YWJsZV9fY2VsbFwiPlxyXG4gICAgIDxzcGFuIGRhdGEtdG9vbHRpcD0nXHJcbiAgICAgPGRpdiBjbGFzcz1cInNvcnRhYmxlLXRhYmxlLXRvb2x0aXBcIj5cclxuICAgICAgIDxzcGFuIGNsYXNzPVwic29ydGFibGUtdGFibGUtdG9vbHRpcF9fY2F0ZWdvcnlcIj4ke2RhdGEuY2F0ZWdvcnkudGl0bGV9PC9zcGFuPiAvXHJcbiAgICAgICA8YiBjbGFzcz1cInNvcnRhYmxlLXRhYmxlLXRvb2x0aXBfX3N1YmNhdGVnb3J5XCI+JHtkYXRhLnRpdGxlfTwvYj5cclxuICAgICA8L2Rpdj4nPiR7ZGF0YS50aXRsZX08L3NwYW4+XHJcbiAgICAgPC9kaXY+YDtcclxuICAgIH1cclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAncXVhbnRpdHknLFxyXG4gICAgdGl0bGU6ICdRdWFudGl0eScsXHJcbiAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgIHNvcnRUeXBlOiAnbnVtYmVyJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6ICdwcmljZScsXHJcbiAgICB0aXRsZTogJ1ByaWNlJyxcclxuICAgIHNvcnRhYmxlOiB0cnVlLFxyXG4gICAgc29ydFR5cGU6ICdudW1iZXInLFxyXG4gICAgdGVtcGxhdGU6ICBkYXRhID0+IGA8ZGl2IGNsYXNzPVwic29ydGFibGUtdGFibGVfX2NlbGxcIj4kJHtkYXRhfTwvZGl2PmBcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAnc2FsZXMnLFxyXG4gICAgdGl0bGU6ICdTYWxlcycsXHJcbiAgICBzb3J0YWJsZTogdHJ1ZSxcclxuICAgIHNvcnRUeXBlOiAnbnVtYmVyJ1xyXG4gICAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGhlYWRlcjtcclxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBVkE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFiQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQVFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/dashboard/bestsellers-header.js\n");

/***/ }),

/***/ "./src/pages/dashboard/index.js":
/*!**************************************!*\
  !*** ./src/pages/dashboard/index.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Page; });\n/* harmony import */ var _components_range_picker_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/range-picker/index.js */ \"./src/components/range-picker/index.js\");\n/* harmony import */ var _components_sortable_table_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/sortable-table/index.js */ \"./src/components/sortable-table/index.js\");\n/* harmony import */ var _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/column-chart/index.js */ \"./src/components/column-chart/index.js\");\n/* harmony import */ var _bestsellers_header_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bestsellers-header.js */ \"./src/pages/dashboard/bestsellers-header.js\");\n/* harmony import */ var _utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/fetch-json.js */ \"./src/utils/fetch-json.js\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nclass Page {\n  constructor() {\n    _defineProperty(this, \"element\", void 0);\n\n    _defineProperty(this, \"subElements\", {});\n\n    _defineProperty(this, \"components\", {});\n  }\n\n  async getDataForColumnCharts(from, to) {\n    const ORDERS = \"\".concat(\"https://course-js.javascript.ru/\", \"api/dashboard/orders?from=\").concat(from.toISOString(), \"&to=\").concat(to.toISOString());\n    const SALES = \"\".concat(\"https://course-js.javascript.ru/\", \"api/dashboard/sales?from=\").concat(from.toISOString(), \"&to=\").concat(to.toISOString());\n    const CUSTOMERS = \"\".concat(\"https://course-js.javascript.ru/\", \"api/dashboard/customers?from=\").concat(encodeURIComponent(from.toISOString()), \"&to=\").concat(encodeURIComponent(to.toISOString()));\n    const ordersData = Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(ORDERS);\n    const salesData = Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(SALES);\n    const customersData = Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(CUSTOMERS);\n    const data = await Promise.all([ordersData, salesData, customersData]);\n    return data.map(item => Object.values(item));\n  }\n\n  async updateTableComponent(from, to) {\n    const data = await Object(_utils_fetch_json_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(\"\".concat(\"https://course-js.javascript.ru/\", \"api/dashboard/bestsellers?_start=0&_end=20&from=\").concat(from.toISOString(), \"&to=\").concat(to.toISOString()));\n    this.components.sortableTable.addRows(data);\n  }\n\n  async updateChartsComponents(from, to) {\n    const [ordersData, salesData, customersData] = await this.getDataForColumnCharts(from, to);\n    const ordersDataTotal = ordersData.reduce((accum, item) => accum + item);\n    const salesDataTotal = salesData.reduce((accum, item) => accum + item);\n    const customersDataTotal = customersData.reduce((accum, item) => accum + item);\n    this.components.ordersChart.update({\n      headerData: ordersDataTotal,\n      bodyData: ordersData\n    });\n    this.components.salesChart.update({\n      headerData: '$' + salesDataTotal,\n      bodyData: salesData\n    });\n    this.components.customersChart.update({\n      headerData: customersDataTotal,\n      bodyData: customersData\n    });\n  }\n\n  async initComponents() {\n    const to = new Date();\n    const from = new Date(to.getTime() - 30 * 24 * 60 * 60 * 1000);\n    const [ordersData, salesData, customersData] = await this.getDataForColumnCharts(from, to);\n    const rangePicker = new _components_range_picker_index_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n      from,\n      to\n    });\n    const sortableTable = new _components_sortable_table_index_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_bestsellers_header_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n      url: \"api/dashboard/bestsellers?_start=0&_end=20&from=\".concat(from.toISOString(), \"&to=\").concat(to.toISOString()),\n      isSortLocally: true\n    });\n    sortableTable.loading = true; //TODO: Таким способом отключил подгрузку данных....\n\n    const ordersChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      data: ordersData,\n      label: 'orders',\n      value: ordersData.reduce((accum, item) => accum + item),\n      link: '#'\n    });\n    const salesChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      data: salesData,\n      label: 'sales',\n      value: '$' + salesData.reduce((accum, item) => accum + item)\n    });\n    const customersChart = new _components_column_chart_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({\n      data: customersData,\n      label: 'customers',\n      value: customersData.reduce((accum, item) => accum + item)\n    });\n    this.components.sortableTable = sortableTable;\n    this.components.ordersChart = ordersChart;\n    this.components.salesChart = salesChart;\n    this.components.customersChart = customersChart;\n    this.components.rangePicker = rangePicker;\n  }\n\n  get template() {\n    return \"<div class=\\\"dashboard\\\">\\n      <div class=\\\"content__top-panel\\\">\\n        <h2 class=\\\"page-title\\\">Dashboard</h2>\\n        <!-- RangePicker component -->\\n        <div data-element=\\\"rangePicker\\\"></div>\\n      </div>\\n      <div data-element=\\\"chartsRoot\\\" class=\\\"dashboard__charts\\\">\\n        <!-- column-chart components -->\\n        <div data-element=\\\"ordersChart\\\" class=\\\"dashboard__chart_orders\\\"></div>\\n        <div data-element=\\\"salesChart\\\" class=\\\"dashboard__chart_sales\\\"></div>\\n        <div data-element=\\\"customersChart\\\" class=\\\"dashboard__chart_customers\\\"></div>\\n      </div>\\n\\n      <h3 class=\\\"block-title\\\">Best sellers</h3>\\n\\n      <div data-element=\\\"sortableTable\\\">\\n        <!-- sortable-table component -->\\n      </div>\\n    </div>\";\n  }\n\n  async render() {\n    const element = document.createElement('div');\n    element.innerHTML = this.template;\n    this.element = element.firstElementChild;\n    this.subElements = this.getSubElements(this.element);\n    await this.initComponents();\n    this.renderComponents();\n    this.initEventListeners();\n    return this.element;\n  }\n\n  renderComponents() {\n    Object.keys(this.components).forEach(component => {\n      const root = this.subElements[component];\n      const {\n        element\n      } = this.components[component];\n      root.append(element);\n    });\n  }\n\n  getSubElements($element) {\n    const elements = $element.querySelectorAll('[data-element]');\n    return [...elements].reduce((accum, subElement) => {\n      accum[subElement.dataset.element] = subElement;\n      return accum;\n    }, {});\n  }\n\n  initEventListeners() {\n    this.components.rangePicker.element.addEventListener('date-select', event => {\n      const {\n        from,\n        to\n      } = event.detail;\n      this.updateChartsComponents(from, to);\n      this.updateTableComponent(from, to);\n    });\n  }\n\n  destroy() {\n    for (const component of Object.values(this.components)) {\n      component.destroy();\n    }\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvZGFzaGJvYXJkL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL2Rhc2hib2FyZC9pbmRleC5qcz9lM2IzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSYW5nZVBpY2tlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL3JhbmdlLXBpY2tlci9pbmRleC5qcyc7XHJcbmltcG9ydCBTb3J0YWJsZVRhYmxlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvc29ydGFibGUtdGFibGUvaW5kZXguanMnO1xyXG5pbXBvcnQgQ29sdW1uQ2hhcnQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb2x1bW4tY2hhcnQvaW5kZXguanMnO1xyXG5pbXBvcnQgaGVhZGVyIGZyb20gJy4vYmVzdHNlbGxlcnMtaGVhZGVyLmpzJztcclxuXHJcbmltcG9ydCBmZXRjaEpzb24gZnJvbSAnLi4vLi4vdXRpbHMvZmV0Y2gtanNvbi5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcclxuICBlbGVtZW50O1xyXG4gIHN1YkVsZW1lbnRzID0ge307XHJcbiAgY29tcG9uZW50cyA9IHt9O1xyXG5cclxuICBhc3luYyBnZXREYXRhRm9yQ29sdW1uQ2hhcnRzIChmcm9tLCB0bykge1xyXG4gICAgY29uc3QgT1JERVJTID0gYCR7cHJvY2Vzcy5lbnYuQkFDS0VORF9VUkx9YXBpL2Rhc2hib2FyZC9vcmRlcnM/ZnJvbT0ke2Zyb20udG9JU09TdHJpbmcoKX0mdG89JHt0by50b0lTT1N0cmluZygpfWA7XHJcbiAgICBjb25zdCBTQUxFUyA9IGAke3Byb2Nlc3MuZW52LkJBQ0tFTkRfVVJMfWFwaS9kYXNoYm9hcmQvc2FsZXM/ZnJvbT0ke2Zyb20udG9JU09TdHJpbmcoKX0mdG89JHt0by50b0lTT1N0cmluZygpfWA7XHJcbiAgICBjb25zdCBDVVNUT01FUlMgPSBgJHtwcm9jZXNzLmVudi5CQUNLRU5EX1VSTH1hcGkvZGFzaGJvYXJkL2N1c3RvbWVycz9mcm9tPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZyb20udG9JU09TdHJpbmcoKSl9JnRvPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRvLnRvSVNPU3RyaW5nKCkpfWA7XHJcblxyXG4gICAgY29uc3Qgb3JkZXJzRGF0YSA9IGZldGNoSnNvbihPUkRFUlMpO1xyXG4gICAgY29uc3Qgc2FsZXNEYXRhID0gZmV0Y2hKc29uKFNBTEVTKTtcclxuICAgIGNvbnN0IGN1c3RvbWVyc0RhdGEgPSBmZXRjaEpzb24oQ1VTVE9NRVJTKTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoW29yZGVyc0RhdGEsIHNhbGVzRGF0YSwgY3VzdG9tZXJzRGF0YV0pO1xyXG4gICAgcmV0dXJuIGRhdGEubWFwKGl0ZW0gPT4gT2JqZWN0LnZhbHVlcyhpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVUYWJsZUNvbXBvbmVudCAoZnJvbSwgdG8pIHtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaEpzb24oYCR7cHJvY2Vzcy5lbnYuQkFDS0VORF9VUkx9YXBpL2Rhc2hib2FyZC9iZXN0c2VsbGVycz9fc3RhcnQ9MCZfZW5kPTIwJmZyb209JHtmcm9tLnRvSVNPU3RyaW5nKCl9JnRvPSR7dG8udG9JU09TdHJpbmcoKX1gKTtcclxuICAgIHRoaXMuY29tcG9uZW50cy5zb3J0YWJsZVRhYmxlLmFkZFJvd3MoZGF0YSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVDaGFydHNDb21wb25lbnRzIChmcm9tLCB0bykge1xyXG4gICAgY29uc3QgW29yZGVyc0RhdGEsIHNhbGVzRGF0YSwgY3VzdG9tZXJzRGF0YV0gPSBhd2FpdCB0aGlzLmdldERhdGFGb3JDb2x1bW5DaGFydHMoZnJvbSwgdG8pO1xyXG4gICAgY29uc3Qgb3JkZXJzRGF0YVRvdGFsID0gb3JkZXJzRGF0YS5yZWR1Y2UoKGFjY3VtLCBpdGVtKSA9PiBhY2N1bSArIGl0ZW0pO1xyXG4gICAgY29uc3Qgc2FsZXNEYXRhVG90YWwgPSBzYWxlc0RhdGEucmVkdWNlKChhY2N1bSwgaXRlbSkgPT4gYWNjdW0gKyBpdGVtKTtcclxuICAgIGNvbnN0IGN1c3RvbWVyc0RhdGFUb3RhbCA9IGN1c3RvbWVyc0RhdGEucmVkdWNlKChhY2N1bSwgaXRlbSkgPT4gYWNjdW0gKyBpdGVtKTtcclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudHMub3JkZXJzQ2hhcnQudXBkYXRlKHtoZWFkZXJEYXRhOiBvcmRlcnNEYXRhVG90YWwsIGJvZHlEYXRhOiBvcmRlcnNEYXRhfSk7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMuc2FsZXNDaGFydC51cGRhdGUoe2hlYWRlckRhdGE6ICckJyArIHNhbGVzRGF0YVRvdGFsLCBib2R5RGF0YTogc2FsZXNEYXRhfSk7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMuY3VzdG9tZXJzQ2hhcnQudXBkYXRlKHtoZWFkZXJEYXRhOiBjdXN0b21lcnNEYXRhVG90YWwsIGJvZHlEYXRhOiBjdXN0b21lcnNEYXRhfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbml0Q29tcG9uZW50cyAoKSB7XHJcbiAgICBjb25zdCB0byA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCBmcm9tID0gbmV3IERhdGUodG8uZ2V0VGltZSgpIC0gKDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgY29uc3QgW29yZGVyc0RhdGEsIHNhbGVzRGF0YSwgY3VzdG9tZXJzRGF0YV0gPSBhd2FpdCB0aGlzLmdldERhdGFGb3JDb2x1bW5DaGFydHMoZnJvbSwgdG8pO1xyXG5cclxuICAgIGNvbnN0IHJhbmdlUGlja2VyID0gbmV3IFJhbmdlUGlja2VyKHtcclxuICAgICAgZnJvbSxcclxuICAgICAgdG9cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHNvcnRhYmxlVGFibGUgPSBuZXcgU29ydGFibGVUYWJsZShoZWFkZXIsIHtcclxuICAgICAgdXJsOiBgYXBpL2Rhc2hib2FyZC9iZXN0c2VsbGVycz9fc3RhcnQ9MCZfZW5kPTIwJmZyb209JHtmcm9tLnRvSVNPU3RyaW5nKCl9JnRvPSR7dG8udG9JU09TdHJpbmcoKX1gLFxyXG4gICAgICBpc1NvcnRMb2NhbGx5OiB0cnVlLFxyXG4gICAgfSk7XHJcbiAgICBzb3J0YWJsZVRhYmxlLmxvYWRpbmcgPSB0cnVlOy8vVE9ETzog0KLQsNC60LjQvCDRgdC/0L7RgdC+0LHQvtC8INC+0YLQutC70Y7Rh9C40Lsg0L/QvtC00LPRgNGD0LfQutGDINC00LDQvdC90YvRhS4uLi5cclxuXHJcbiAgICBjb25zdCBvcmRlcnNDaGFydCA9IG5ldyBDb2x1bW5DaGFydCh7XHJcbiAgICAgIGRhdGE6IG9yZGVyc0RhdGEsXHJcbiAgICAgIGxhYmVsOiAnb3JkZXJzJyxcclxuICAgICAgdmFsdWU6IG9yZGVyc0RhdGEucmVkdWNlKChhY2N1bSwgaXRlbSkgPT4gYWNjdW0gKyBpdGVtKSxcclxuICAgICAgbGluazogJyMnXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBzYWxlc0NoYXJ0ID0gbmV3IENvbHVtbkNoYXJ0KHtcclxuICAgICAgZGF0YTogc2FsZXNEYXRhLFxyXG4gICAgICBsYWJlbDogJ3NhbGVzJyxcclxuICAgICAgdmFsdWU6ICckJyArIHNhbGVzRGF0YS5yZWR1Y2UoKGFjY3VtLCBpdGVtKSA9PiBhY2N1bSArIGl0ZW0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY3VzdG9tZXJzQ2hhcnQgPSBuZXcgQ29sdW1uQ2hhcnQoe1xyXG4gICAgICBkYXRhOiBjdXN0b21lcnNEYXRhLFxyXG4gICAgICBsYWJlbDogJ2N1c3RvbWVycycsXHJcbiAgICAgIHZhbHVlOiBjdXN0b21lcnNEYXRhLnJlZHVjZSgoYWNjdW0sIGl0ZW0pID0+IGFjY3VtICsgaXRlbSksXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudHMuc29ydGFibGVUYWJsZSA9IHNvcnRhYmxlVGFibGU7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMub3JkZXJzQ2hhcnQgPSBvcmRlcnNDaGFydDtcclxuICAgIHRoaXMuY29tcG9uZW50cy5zYWxlc0NoYXJ0ID0gc2FsZXNDaGFydDtcclxuICAgIHRoaXMuY29tcG9uZW50cy5jdXN0b21lcnNDaGFydCA9IGN1c3RvbWVyc0NoYXJ0O1xyXG4gICAgdGhpcy5jb21wb25lbnRzLnJhbmdlUGlja2VyID0gcmFuZ2VQaWNrZXI7XHJcbiAgfVxyXG5cclxuICBnZXQgdGVtcGxhdGUgKCkge1xyXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50X190b3AtcGFuZWxcIj5cclxuICAgICAgICA8aDIgY2xhc3M9XCJwYWdlLXRpdGxlXCI+RGFzaGJvYXJkPC9oMj5cclxuICAgICAgICA8IS0tIFJhbmdlUGlja2VyIGNvbXBvbmVudCAtLT5cclxuICAgICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cInJhbmdlUGlja2VyXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cImNoYXJ0c1Jvb3RcIiBjbGFzcz1cImRhc2hib2FyZF9fY2hhcnRzXCI+XHJcbiAgICAgICAgPCEtLSBjb2x1bW4tY2hhcnQgY29tcG9uZW50cyAtLT5cclxuICAgICAgICA8ZGl2IGRhdGEtZWxlbWVudD1cIm9yZGVyc0NoYXJ0XCIgY2xhc3M9XCJkYXNoYm9hcmRfX2NoYXJ0X29yZGVyc1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwic2FsZXNDaGFydFwiIGNsYXNzPVwiZGFzaGJvYXJkX19jaGFydF9zYWxlc1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgZGF0YS1lbGVtZW50PVwiY3VzdG9tZXJzQ2hhcnRcIiBjbGFzcz1cImRhc2hib2FyZF9fY2hhcnRfY3VzdG9tZXJzXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPGgzIGNsYXNzPVwiYmxvY2stdGl0bGVcIj5CZXN0IHNlbGxlcnM8L2gzPlxyXG5cclxuICAgICAgPGRpdiBkYXRhLWVsZW1lbnQ9XCJzb3J0YWJsZVRhYmxlXCI+XHJcbiAgICAgICAgPCEtLSBzb3J0YWJsZS10YWJsZSBjb21wb25lbnQgLS0+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YDtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlciAoKSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLnRlbXBsYXRlO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICB0aGlzLnN1YkVsZW1lbnRzID0gdGhpcy5nZXRTdWJFbGVtZW50cyh0aGlzLmVsZW1lbnQpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuaW5pdENvbXBvbmVudHMoKTtcclxuICAgIHRoaXMucmVuZGVyQ29tcG9uZW50cygpO1xyXG4gICAgdGhpcy5pbml0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICByZW5kZXJDb21wb25lbnRzICgpIHtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuY29tcG9uZW50cykuZm9yRWFjaChjb21wb25lbnQgPT4ge1xyXG4gICAgICBjb25zdCByb290ID0gdGhpcy5zdWJFbGVtZW50c1tjb21wb25lbnRdO1xyXG4gICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRoaXMuY29tcG9uZW50c1tjb21wb25lbnRdO1xyXG5cclxuICAgICAgcm9vdC5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFN1YkVsZW1lbnRzICgkZWxlbWVudCkge1xyXG4gICAgY29uc3QgZWxlbWVudHMgPSAkZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1lbGVtZW50XScpO1xyXG5cclxuICAgIHJldHVybiBbLi4uZWxlbWVudHNdLnJlZHVjZSgoYWNjdW0sIHN1YkVsZW1lbnQpID0+IHtcclxuICAgICAgYWNjdW1bc3ViRWxlbWVudC5kYXRhc2V0LmVsZW1lbnRdID0gc3ViRWxlbWVudDtcclxuXHJcbiAgICAgIHJldHVybiBhY2N1bTtcclxuICAgIH0sIHt9KTtcclxuICB9XHJcblxyXG4gIGluaXRFdmVudExpc3RlbmVycyAoKSB7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMucmFuZ2VQaWNrZXIuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkYXRlLXNlbGVjdCcsIGV2ZW50ID0+IHtcclxuICAgICAgY29uc3QgeyBmcm9tLCB0byB9ID0gZXZlbnQuZGV0YWlsO1xyXG4gICAgICB0aGlzLnVwZGF0ZUNoYXJ0c0NvbXBvbmVudHMoZnJvbSwgdG8pO1xyXG4gICAgICB0aGlzLnVwZGF0ZVRhYmxlQ29tcG9uZW50KGZyb20sIHRvKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVzdHJveSAoKSB7XHJcbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBPYmplY3QudmFsdWVzKHRoaXMuY29tcG9uZW50cykpIHtcclxuICAgICAgY29tcG9uZW50LmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoSkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/dashboard/index.js\n");

/***/ })

}]);